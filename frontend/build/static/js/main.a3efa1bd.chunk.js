(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},133:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},222:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(47),i=a.n(s),l=a(3),o=a(93),u=a(30),d=(a(111),a(112),a(14)),j=a(16),b=a(8),m=a(234),p=a(2);a(113);var h=function(e){var t=e.picture,a=e.name,c=e.styles;return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"user-picture",style:Object(p.a)({backgroundImage:"url(".concat(t,")")},c)}):a&&Object(n.jsx)("div",{className:"user-picture text-uppercase",style:Object(p.a)({},c),children:a[0]})})},O=a(6),x=a.n(O),f=a(11),g=a(12),v=a.n(g),y="https://collections-itransition.herokuapp.com/",N="GET_USER",k="SET_USER",w="RESET_USER",C="IS_LOGIN",S="DELETE_USER",I="SET_ADMIN",D="REMOVE_ADMIN",A="BLOCK_USER",E="UNBLOCK_USER",L="SET_ERROR",F="CLEAR_ERROR",R="SET_ITEM",_="GET_ITEM",M="GET_COLLECTION",T="SORT_COLLECTION",P="CHANGE_ASCENDING",G="GET_HOME",B="SET_SEARCH",U="SWITCH_LANG",V="GET_ALLCOLLECTIONS",z="START_LOADING_PAGE",H="END_LOADING_PAGE",K="SET_NOTIFY",J="ERROR_CLEARALL",W="START_LOADING_COLLECTIONS",q="END_LOADING_COLLECTIONS",Y="START_LOADING_COLLECTION",Q="END_LOADING_COLLECTION";function X(){return{type:J,payload:{error:"",notify:!1,loading:!1}}}function Z(e){return{type:K,payload:e}}function $(e){return function(){var t=Object(f.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:W}),t.next=4,v.a.get("".concat(y,"/api/collections/"),{params:{id:e}});case 4:n=t.sent,a({type:V,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(re(t.t0));case 11:return t.prev=11,a({type:q}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}function ee(e){return function(){var t=Object(f.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(se()),t.next=4,v.a.get("".concat(y,"/api/item/search"),{params:{searchText:e}});case 4:n=t.sent,sessionStorage.setItem("search-items",JSON.stringify(n.data)),sessionStorage.setItem("search-text",e),a({type:B,payload:{items:n.data,searchText:e}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(re(t.t0));case 13:return t.prev=13,a(ie()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}function te(e){return function(){var t=Object(f.a)(x.a.mark((function t(a,n){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&a(se()),t.prev=1,!n().error.error){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,v.a.get("".concat(y,"/api/user/home"));case 6:c=t.sent,a({type:G,payload:c.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(re(t.t0));case 13:return t.prev=13,e&&a(ie()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e,a){return t.apply(this,arguments)}}()}function ae(e){return function(){var t=Object(f.a)(x.a.mark((function t(a,n){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n().error.error){t.next=3;break}return t.abrupt("return");case 3:return n().collection.collection.collection?n().collection.collection.collection._id!==e&&a(se()):a(se()),t.next=6,v.a.get("".concat(y,"/api/collections/collection"),{params:{id:e}});case 6:c=t.sent,a({type:M,payload:c.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(re(t.t0));case 13:return t.prev=13,a(ie()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e,a){return t.apply(this,arguments)}}()}function ne(e){return function(t){t({type:k,payload:e})}}function ce(e){return function(){var t=Object(f.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(y,"/api/item/"),{params:{id:e}});case 3:n=t.sent,a({type:_,payload:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function re(e){var t="";return t=e.response?e.response.data.message||e.response.data.error.message:"Connection error. Please try again later:(",{type:L,payload:t}}function se(){return{type:z}}function ie(){return{type:H}}function le(){return localStorage.getItem("token")||sessionStorage.getItem("token")}function oe(){return function(e){e({type:w,payload:{token:void 0,user:{lang:"en"}}})}}a(133);var ue=a(5);var de=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=e.userData,a=Object(l.d)((function(e){return e.search})).searchText,r=Object(l.c)(),s=Object(j.g)(),i=Object(c.useState)(a),o=Object(b.a)(i,2),u=o[0],p=o[1];Object(c.useEffect)((function(){p(a)}),[a]);var O=function(e){e.preventDefault(),u.trim()&&r(ee(u)),s.push("/search")};return Object(n.jsx)("header",{children:Object(n.jsxs)("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:[Object(n.jsx)(d.b,{className:"navbar-brand",to:"/",children:ue.Header.collections[t.user.lang]}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample02","aria-controls":"navbarsExample02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarsExample02",children:[Object(n.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(d.b,{className:"nav-link",to:"/",children:ue.Header.home[t.user.lang]})})}),Object(n.jsxs)("form",{className:"form-inline",id:"item-search",onSubmit:O,children:[Object(n.jsx)("input",{className:"form-control w-100",value:u,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Search"}),Object(n.jsx)("span",{onClick:O,children:Object(n.jsx)(m.a,{})})]}),r(le)||t.token?Object(n.jsx)("div",{className:"flex-column ml-md-3 mt-1 mt-md-0 avatar",children:Object(n.jsxs)("div",{className:"btn-group",children:[t.token?Object(n.jsx)("button",{type:"button",className:"btn dropdown-toggle bg-dark".concat(!t.user.userPhoto&&" text-light"),"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(n.jsx)(h,{picture:t.user.userPhoto,name:t.user.displayName})}):Object(n.jsx)("button",{type:"button",className:"btn dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(n.jsx)("div",{style:{background:"grey"}})}),Object(n.jsxs)("div",{className:"dropdown-menu dropdown-menu-md-right",children:[t.user&&Object(n.jsx)("button",{className:"dropdown-item",onClick:function(){return s.push("/profile?id=".concat(t.user.id))},children:t.user.displayName}),Object(n.jsx)("button",{className:"dropdown-item",onClick:function(){return r(oe()),localStorage.removeItem("token"),sessionStorage.removeItem("token"),void window.location.reload()},children:ue.Header.logOut[t.user.lang]})]})]})}):Object(n.jsxs)("div",{className:"d-flex flex-column ml-md-3 align-items-md-center",children:[Object(n.jsx)(d.b,{to:"/login",children:ue.Header.logIn[t.user.lang]}),Object(n.jsx)(d.b,{to:"/register",children:ue.Header.register[t.user.lang]})]})]})]})})}));a(135);var je=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=Object(l.c)();return Object(n.jsx)("footer",{className:"footer py-3 bg-light mt-3",children:Object(n.jsx)("div",{className:"container d-flex justify-content-end",children:Object(n.jsxs)("select",{className:"form-control select-lang",value:e.userData.user.lang,onChange:function(e){return t((a=e.target.value,function(){var e=Object(f.a)(x.a.mark((function e(t,n){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=n().userData.userData.token)||(t({type:U,payload:a}),localStorage.setItem("lang",a)),e.prev=2,e.next=5,v.a.post("".concat(y,"/api/user/switchLang"),{lang:a},{headers:{"x-auth-token":c}});case 5:r=e.sent,t({type:U,payload:r.data}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()));var a},children:[Object(n.jsx)("option",{value:"ru",children:"ru"}),Object(n.jsx)("option",{value:"en",children:"en"})]})})})})),be=a(242),me=a(257),pe=a(256),he=a(239),Oe=a(240),xe=a(241),fe=(a(52),a(53),a(54),a(55),a(136),a(26)),ge=a.n(fe),ve=a(235),ye=a(236);var Ne=function(e){var t=e.likes,a=e.id,r=e.homeAction,s=Object(l.d)((function(e){return e.collection.collection})).collection,i=Object(l.d)((function(e){return e.userData})).userData,o=Object(c.useState)(!1),u=Object(b.a)(o,2),d=u[0],j=u[1],m=Object(c.useState)(0),p=Object(b.a)(m,2),h=p[0],O=p[1],g=Object(l.c)();function N(){return(N=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(y,"/api/item/like"),{itemId:a},{headers:{"x-auth-token":i.token}});case 3:"function"===typeof r?r():(g(ae(s._id)),g(ce(a))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){j((i.user&&t.usersId.findIndex((function(e){return e==="".concat(i.user.id)})))>=0),O(t.number)}),[t,i]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("span",{onClick:function(){return N.apply(this,arguments)},style:{cursor:"pointer"},className:"ml-auto",children:[d?Object(n.jsx)(ve.a,{className:"item-liked"}):Object(n.jsx)(ye.a,{className:"item-unliked"})," ",h]})})},ke=a(237);a(137);var we=function(e){var t=e.picture,a=e.className,c=e.styles;return Object(n.jsx)("div",{className:a,children:t?Object(n.jsx)("div",{className:"main-picture",style:Object(p.a)({backgroundImage:"url(".concat(t,")")},c)}):Object(n.jsx)("div",{className:"main-picture",style:c,children:Object(n.jsx)(ke.a,{size:30})})})},Ce=a(238);a(138);var Se=function(e){var t=e.itemProps,a=t.author,c=t.year,r=t.title,s=t._id,i=t.picture,o=t.collection_id,u=e.itemProps.likes,d=e.homeAction,b=Object(j.h)(),m=Object(l.d)((function(e){return e.userData})).userData,h=Object(l.d)((function(e){return e.collection.collection})).collection,O=Object(j.g)(),g=Object(l.c)();function N(){return(N=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(X()),g(Z(!0)),e.next=5,v.a.delete("".concat(y,"/api/item/delete"),{params:{id:s,collection_id:o},headers:{"x-auth-token":m.token}});case 5:g(ae(o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(re(e.t0));case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"card border item",style:{width:"12rem"},children:[Object(n.jsx)(we,{picture:i,title:r,styles:{height:100},className:"card-img-top"}),Object(n.jsxs)("div",{className:"card-body",onClick:function(e){O.push("/collection?collection_id=".concat(o,"&item_id=").concat(s))},style:{cursor:"pointer"},children:[Object(n.jsx)("h5",{className:"card-title",children:r}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[a&&Object(n.jsxs)("li",{className:"list-group-item",children:[ue.Item.author[m.user.lang],": ",a]}),c&&Object(n.jsxs)("li",{className:"list-group-item",children:[ue.Item.date[m.user.lang],": ",new Date(c).toLocaleDateString()]})]})]}),Object(n.jsxs)("div",{className:"d-flex card-footer",children:["/collection"===b.pathname&&("admin"===m.user.userRole||h.owner===m.user.id)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{style:{cursor:"pointer"},"data-toggle":"modal","data-target":"#editItem",onClick:function(t){var a;g((a=Object(p.a)({},e.itemProps),{type:R,payload:a}))},children:ue.Item.edit[m.user.lang]}),Object(n.jsx)("span",{className:"ml-1",style:{cursor:"pointer"},onClick:function(){return N.apply(this,arguments)},children:Object(n.jsx)(Ce.a,{className:"text-danger"})})]}),Object(n.jsx)(Ne,{likes:u,id:s,homeAction:d})]})]})})};pe.a.use([he.a,Oe.a,xe.a]);var Ie=Object(l.b)((function(e){return e.home}),null)((function(e){var t=e.lastAdded,a=Object(l.c)(),r=Object(c.useCallback)((function(){a(te())}),[a]);return Object(n.jsx)(n.Fragment,{children:t.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Last added"}),Object(n.jsx)(me.a,{navigation:!0,pagination:{clickable:!0},spaceBetween:50,slidesPerView:1,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1200:{slidesPerView:4}},children:t.map((function(e,t){return Object(n.jsx)(be.a,{className:"d-flex justify-content-center pb-5 pt-5",children:Object(n.jsx)(Se,{itemProps:e,homeAction:r})},"slide-".concat(t))}))})]})})})),De=a(243);a(139);pe.a.use([De.a]);var Ae=Object(l.b)((function(e){return e.home}),null)((function(e){var t=e.tags,a=Object(j.g)(),c=Object(l.c)();return Object(n.jsx)("div",{className:"mt-2 mb-2",children:t.length>0&&Object(n.jsx)(me.a,{spaceBetween:50,slidesPerView:2,scrollbar:{draggable:!0},className:"d-flex justify-content-center pb-3",breakpoints:{576:{slidesPerView:4},768:{slidesPerView:5},992:{slidesPerView:6},1200:{slidesPerView:8}},children:t.map((function(e,t){return Object(n.jsx)(be.a,{onClick:function(){return t=e.text,c(ee(t)),void a.push("/search");var t},children:Object(n.jsx)("div",{className:"border text-center rounded bg-light text-dark tag",style:{cursor:"pointer"},children:e.text})},"slide-".concat(t))}))})})}));var Ee=function(e){var t=e.itemProps,a=t.author,r=t.year,s=t.title,i=t._id,o=t.picture,u=t.collection_id,d=e.itemProps.likes,b=(e.homeAction,Object(j.h)(),Object(l.d)((function(e){return e.userData})).userData,Object(l.d)((function(e){return e.collection.collection})).collection,Object(c.useRef)(),Object(j.g)()),m=Object(l.c)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"row w-100 justify-content-center",children:Object(n.jsxs)("div",{className:"d-flex row col-8 bg-light border rounded",children:[Object(n.jsxs)("div",{className:"d-flex flex-column col-md-6 justify-content-between p-2 order-md-1 order-2",children:[Object(n.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(n.jsx)("h4",{children:s}),Object(n.jsx)("div",{className:"text-left mt-3",children:Object(n.jsxs)("ul",{className:"list-group",children:[a&&Object(n.jsxs)("li",{className:"list-group-item",children:["Author: ",a]}),r&&Object(n.jsxs)("li",{className:"list-group-item",children:["Date: ",new Date(r).toLocaleDateString()]})]})})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(e){m(ce(i)),b.push("/collection?collection_id=".concat(u))},children:"View item"}),Object(n.jsx)(Ne,{likes:d,id:i})]})]}),Object(n.jsx)("div",{className:"col-md-6 p-2 p-md-0 order-1 order-md-2",children:Object(n.jsx)(we,{picture:o})})]})})})};pe.a.use([he.a,Oe.a,xe.a]);var Le=Object(l.b)((function(e){return e.home}),null)((function(e){var t=e.mostLike,a=Object(l.c)(),r=Object(c.useCallback)((function(){a(te())}),[a]);return Object(n.jsx)(n.Fragment,{children:t.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Most like"}),Object(n.jsx)(me.a,{navigation:!0,pagination:{clickable:!0},spaceBetween:50,slidesPerView:1,children:t.map((function(e,t){return Object(n.jsx)(be.a,{className:"d-flex pb-5 pt-5 justify-content-center",children:Object(n.jsx)(Ee,{itemProps:e,homeAction:r})},"slide-".concat(t))}))})]})})}));a(140);var Fe=function(){return Object(n.jsx)("div",{className:"spinner d-flex w-100 justify-content-center align-items-center",children:Object(n.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})};var Re=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=Object(l.d)((function(e){return e.error})).loading,a=(Object(l.d)((function(e){return e.home})),Object(l.c)());return Object(c.useEffect)((function(){a(X()),a(te(!0))}),[a]),Object(c.useEffect)((function(){var e=setInterval((function(){a(te())}),2e3);return function(){return clearInterval(e)}}),[a]),Object(n.jsxs)(n.Fragment,{children:[t&&Object(n.jsx)(Fe,{}),!t&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ae,{}),Object(n.jsxs)("div",{className:"row text-center",children:[Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)(Ie,{})}),Object(n.jsx)("div",{className:"col-12 most-like",children:Object(n.jsx)(Le,{})})]})]})]})})),_e=a(49);function Me(e,t,a,n){var r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],l=s[1];return{bind:{value:i,type:e,style:n,id:"".concat(a||e,"Input"),className:"form-control mb-2",placeholder:t||e,name:a||e,onChange:function(e){return l(e.target.value)},required:!0},clear:function(){return l("")},value:function(){return i}}}var Te=a(50),Pe=a(94),Ge=a(95),Be=a(101),Ue=a(98),Ve=a(96),ze=a.n(Ve),He={btn:{backgroundColor:"rgb(255, 255, 255)",display:"inline-flex",alignItems:"center",color:"rgba(0, 0, 0, 0.54)",boxShadow:"rgba(0, 0, 0, 0.24) 0px 2px 2px 0px, rgba(0, 0, 0, 0.24) 0px 0px 1px 0px",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:500,fontFamily:"Roboto, sans-serif"},div:{background:"rgb(255, 255, 255)",padding:10,borderRadius:2},span:{padding:"10px 10px 10px 0px",fontWeight:500}},Ke=function(e){Object(Be.a)(a,e);var t=Object(Ue.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).checkLoginState=function(e){n.setState({isProcessing:!1}),n.props.callback(e)},n.handleClick=function(){!n.state.isLoaded||n.state.isProcessing||n.props.disabled||(n.setState({isProcessing:!0}),window.VK.Auth.login(n.checkLoginState))},n.state={isLoaded:!1,isProcessing:!1},n}return Object(Ge.a)(a,[{key:"componentDidMount",value:function(){this.sdkLoaded(),this.asyncInit(),this.loadSdkAsync()}},{key:"asyncInit",value:function(){var e=this,t=this.props.apiId;window.vkAsyncInit=function(){window.VK.init({apiId:t}),e.setState({isLoaded:!0})}}},{key:"sdkLoaded",value:function(){this.setState({isLoaded:!0})}},{key:"loadSdkAsync",value:function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://vk.com/js/api/openapi.js?",e.async=!0,e.id="vk-sdk",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"render",value:function(){var e=this.props,t=(e.disabled,e.callback,e.apiId,e.containerStyle,Object(Te.a)(e,["disabled","callback","apiId","containerStyle"]));return Object(n.jsxs)("button",Object(p.a)(Object(p.a)({},t),{},{onClick:this.handleClick,style:He.btn,children:[Object(n.jsx)("div",{style:He.div,children:Object(n.jsx)(ze.a,{height:18})}),Object(n.jsx)("span",{style:He.span,children:"Login"})]}))}}]),a}(c.Component);var Je=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=Object(l.d)((function(e){return e.userData})).userData,a=Me("email","Email adress"),r=Me("password"),s=Object(c.createRef)(!1),i=Object(l.c)(),o=Object(j.g)(),u=Object(c.useState)(!1),d=Object(b.a)(u,2),m=d[0],h=d[1],O=Object(c.useState)(""),g=Object(b.a)(O,2),N=g[0],k=g[1];function w(e,t,a){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(x.a.mark((function e(t,n,c){var s,l,u,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),h(!1),k("Loading..."),s=n&&n.tokenId,l=!1,u=c&&c.session&&{email:c.session.user.id,displayName:"".concat(c.session.user.first_name," ").concat(c.session.user.last_name)},e.prev=6,e.next=9,v.a.post("".concat(y,"/api/user/login"),{email:a.value(),password:r.value(),idToken:s,vkId:u});case 9:d=e.sent,i(ne(d.data)),l?localStorage.setItem("token",d.data.token):sessionStorage.setItem("token",d.data.token),o.push("/"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),h(!0),k(""),k(e.t0.response?e.t0.response.data.error.message:"Connection error. Please try again later:(");case 20:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}return t.token&&o.push("/"),Object(n.jsxs)(n.Fragment,{children:[N&&Object(n.jsx)(Fe,{errorLoading:m,errorMessage:N}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"text-center w-50",children:[Object(n.jsxs)("form",{className:"form-signin",onSubmit:function(e){return w(e)},children:[Object(n.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:ue.logIn.signIn[t.user.lang]}),Object(n.jsx)("label",{htmlFor:"emailInput",className:"sr-only",children:ue.logIn.emailAdress[t.user.lang]}),Object(n.jsx)("input",Object(p.a)(Object(p.a)({},a.bind),{},{autoFocus:!0})),Object(n.jsx)("label",{htmlFor:"passwordInput",className:"sr-only",children:ue.logIn.password[t.user.lang]}),Object(n.jsx)("input",Object(p.a)({},r.bind)),Object(n.jsx)("div",{className:"checkbox mb-3",children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",value:"remember-me",ref:s})," ",ue.logIn.rememberMe[t.user.lang]]})}),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:ue.logIn.signIn[t.user.lang]})]}),Object(n.jsxs)("div",{className:"d-flex mt-3",children:[Object(n.jsx)("div",{className:"mr-1",children:Object(n.jsx)(_e.GoogleLogin,{clientId:"327702379277-a035t5hfkakgfb0dt3111c7eiio2458p.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return w(null,e)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(Ke,{apiId:"7722772",callback:function(e){return w(null,null,e)}})})]})]})})]})}));var We=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=Me("email","Email adress"),a=Me("password","Password"),r=Me("password","Confirm password","passwordCheck"),s=Me("text","Name","displayName"),i=Object(j.g)(),o=Object(l.d)((function(e){return e.userData})).userData,u=Object(l.c)(),d=Object(c.useState)(!1),m=Object(b.a)(d,2),h=m[0],O=m[1],g=Object(c.useState)(""),N=Object(b.a)(g,2),k=N[0],w=N[1];function C(){return(C=Object(f.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,v.a.post("".concat(y,"/api/user/register"),{displayName:s.value(),email:t.value(),password:a.value(),passwordCheck:r.value()});case 4:i.push("/login"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),O(!0),w(""),w(e.t0.response.data.error.message);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function S(e,t,a){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(x.a.mark((function e(n,c,r){var s,l,o,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.preventDefault(),O(!1),w("Loading..."),s=c&&c.tokenId,l=!1,o=r&&{email:r.session.user.id,displayName:"".concat(r.session.user.first_name," ").concat(r.session.user.last_name)},e.prev=6,e.next=9,v.a.post("".concat(y,"/api/user/login"),{email:t.value(),password:a.value(),idToken:s,vkId:o});case 9:d=e.sent,u(ne(d.data)),l?localStorage.setItem("token",d.data.token):sessionStorage.setItem("token",d.data.token),i.push("/"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),O(!0),w(""),w(e.t0.response?e.t0.response.data.error.message:"Connection error. Please try again later:(");case 20:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}return o.token&&i.push("/"),Object(n.jsxs)(n.Fragment,{children:[k&&Object(n.jsx)(Fe,{errorLoading:h,errorMessage:k}),Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"text-center w-50",children:[Object(n.jsxs)("form",{className:"needs-validation",onSubmit:function(e){return C.apply(this,arguments)},children:[Object(n.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:ue.Register.signUp[o.user.lang]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"namelInput",className:"sr-only",children:ue.Register.name[o.user.lang]}),Object(n.jsx)("input",Object(p.a)(Object(p.a)({},s.bind),{},{autoFocus:!0}))]}),Object(n.jsx)("label",{htmlFor:"emailInput",className:"sr-only",children:ue.Register.emailAddress[o.user.lang]}),Object(n.jsx)("input",Object(p.a)({},t.bind)),Object(n.jsx)("label",{htmlFor:"passwordInput",className:"sr-only",children:ue.Register.password[o.user.lang]}),Object(n.jsx)("input",Object(p.a)({},a.bind)),Object(n.jsx)("label",{htmlFor:"passwordCheckInput",className:"sr-only",children:ue.Register.passwordConfirm[o.user.lang]}),Object(n.jsx)("input",Object(p.a)({},r.bind)),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:ue.Register.signUp[o.user.lang]})]}),Object(n.jsxs)("div",{className:"d-flex mt-3",children:[Object(n.jsx)("div",{className:"mr-1",children:Object(n.jsx)(_e.GoogleLogin,{clientId:"327702379277-a035t5hfkakgfb0dt3111c7eiio2458p.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return S(null,e)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(Ke,{apiId:"7722772",callback:function(e){return S(null,null,e)}})})]})]})})]})})),qe=a(245),Ye=a(99),Qe=a(244);a(146);var Xe=function(e){var t=e.picture,a=e.setPicture,r=Object(l.d)((function(e){return e.userData})).userData,s=Object(c.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){a(t.result)}}))}),[a]),i=Object(Ye.a)({maxFiles:1,accept:"image/jpeg, image/png",onDrop:s}),o=i.getRootProps,u=i.getInputProps,d=i.isDragActive;return Object(n.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(n.jsxs)("div",Object(p.a)(Object(p.a)({},o()),{},{className:"d-flex justify-content-center align-items-center border border-primary w-100 p-3 rounded  drag-zone",style:{height:"".concat(d?70:50,"px")},children:[Object(n.jsx)("input",Object(p.a)({},u())),Object(n.jsx)("span",{className:"text-primary",children:d?Object(n.jsx)(Qe.a,{size:30}):ue.FileInput.dragAndDrop[r.user.lang]})]})),t&&Object(n.jsxs)("aside",{className:"mt-1",children:[Object(n.jsx)("h5",{children:"Preview"}),Object(n.jsx)("img",{src:t,className:"img-fluid rounded",width:"100",alt:"example"})]})]})};a(77);var Ze=function(e){var t=Object(l.d)((function(e){return e.userData})).userData,a=Object(j.h)(),r=Object(l.c)(),s=Object(c.useState)(""),i=Object(b.a)(s,2),o=i[0],u=i[1],d=Object(c.useState)("Books"),m=Object(b.a)(d,2),p=m[0],h=m[1],O=Object(c.useState)(""),g=Object(b.a)(O,2),N=g[0],k=g[1],w=Object(c.useState)(!1),C=Object(b.a)(w,2),S=C[0],I=C[1],D=Object(c.useState)(!0),A=Object(b.a)(D,2),E=A[0],L=A[1],F=Object(c.useState)(!1),R=Object(b.a)(F,2),_=R[0],M=R[1],T=Object(c.useState)(""),P=Object(b.a)(T,2),G=P[0],B=P[1];console.log("Add: "+S);var U=new URLSearchParams(a.search).get("id");function V(){return(V=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(X()),r({type:Y}),r(Z(!0)),e.prev=3,e.next=6,v.a.post("".concat(y,"/api/collections/upload"),{owner:U,title:o,topic:p,description:N,author:S,comments:E,year:_,picture:G},{headers:{"x-auth-token":t.token}});case 6:B(""),I(!1),L(!0),h("Books"),u(""),M(!1),k(""),r($(U)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),r(re(e.t0));case 19:return e.prev=19,r({type:Q}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"modal fade",id:"addCollection",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsxs)("div",{className:"modal-content",style:{position:"relative"},children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:ue.AddCollectionModal.collectionSettings[t.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:ue.AddCollectionModal.title[t.user.lang]})}),Object(n.jsx)("input",{type:"text",value:o,onChange:function(e){return u(e.target.value)},className:"form-control",placeholder:ue.AddCollectionModal.title[t.user.lang],"aria-label":"Title","aria-describedby":"basic-addon1"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",children:ue.AddCollectionModal.topic[t.user.lang]})}),Object(n.jsxs)("select",{className:"custom-select",value:p,id:"inputGroupSelect01",onChange:function(e){return h(e.target.value)},children:[Object(n.jsx)("option",{value:"Books",children:"Books"}),Object(n.jsx)("option",{value:"Alcohol",children:"Alcohol"}),Object(n.jsx)("option",{value:"CS:GO Skins",children:"CS:GO Skins"})]})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Xe,{picture:G,setPicture:B})}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:ue.AddCollectionModal.description[t.user.lang]})}),Object(n.jsx)("textarea",{className:"form-control",value:N,onChange:function(e){return k(e.target.value)},"aria-label":"With textarea"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:E,onChange:function(e){return L(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"commentsCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"commentsCheck",children:ue.AddCollectionModal.comments[t.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:S,onChange:function(e){return I(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"authorCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"authorCheck",children:ue.AddCollectionModal.author[t.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch",children:[Object(n.jsx)("input",{defaultChecked:_,onChange:function(e){return M(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"yearCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"yearCheck",children:ue.AddCollectionModal.date[t.user.lang]})]})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:ue.AddCollectionModal.close[t.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return V.apply(this,arguments)},children:ue.AddCollectionModal.save[t.user.lang]})]})]})})})})};a(147);var $e=function(e){var t=e.styles;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"card add-collection bg-light text-primary","data-toggle":"modal","data-target":"#addCollection",style:Object(p.a)({width:"12rem"},t),children:Object(n.jsx)("div",{className:"card-body d-flex justify-content-center align-items-center",style:{height:"15rem"},children:Object(n.jsx)("span",{children:Object(n.jsx)(qe.a,{height:"50px",width:"50px"})})})}),Object(n.jsx)(Ze,{})]})};a(148);function et(){return Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})}var tt=a(246),at=a(247),nt=a(33),ct=a.n(nt);var rt=function(e){var t=e.title,a=e.topic,c=e.description,r=e.picture,s=e._id,i=e.owner,o=Object(l.d)((function(e){return e.userData})).userData,u=Object(l.c)();function j(){return(j=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(X()),u(se()),u(Z(!0)),e.next=6,v.a.delete("".concat(y,"/api/collections/delete"),{params:{id:s},headers:{"x-auth-token":o.token}});case 6:u($(i)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u(re(e.t0));case 12:return e.prev=12,u(ie()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(we,{picture:r}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:t}),Object(n.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:a}),Object(n.jsx)(ct.a,{source:c})]}),Object(n.jsxs)("div",{className:"card-footer d-flex align-items-center justify-content-between",children:[Object(n.jsx)(d.b,{to:"/collection?collection_id=".concat(s),className:"btn btn-primary",children:ue.CollectionCard.explore[o.user.lang]}),o.user&&(o.user.id===i||"admin"===o.user.userRole)&&Object(n.jsxs)("div",{className:"dropdown dropup",children:[Object(n.jsx)("span",{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"},children:Object(n.jsx)(tt.a,{})}),Object(n.jsxs)("div",{className:"dropdown-menu dropdown-menu-left","aria-labelledby":"dropdownMenuButton",children:[Object(n.jsxs)("button",{className:"dropdown-item",type:"button",onClick:function(){return j.apply(this,arguments)},children:[Object(n.jsx)(Ce.a,{className:"text-danger"})," Delete"]}),Object(n.jsxs)("button",{className:"dropdown-item",type:"button","data-toggle":"modal","data-target":"#editCollection",onClick:function(){u(ae(s))},children:[Object(n.jsx)(at.a,{})," Edit"]})]})]})]})]})})};a(222);var st=function(e){var t=e.id,a=Object(c.createRef)(),r=Object(l.d)((function(e){return e.userData})).userData,s=Object(l.d)((function(e){return e.collection.collection})).collection,i=Object(l.c)(),o=Object(c.useState)(""),u=Object(b.a)(o,2),d=u[0],j=u[1],m=Object(c.useState)("Books"),p=Object(b.a)(m,2),h=p[0],O=p[1],g=Object(c.useState)(""),N=Object(b.a)(g,2),k=N[0],w=N[1],C=Object(c.useState)(!1),S=Object(b.a)(C,2),I=S[0],D=S[1],A=Object(c.useState)(!0),E=Object(b.a)(A,2),L=E[0],F=E[1],R=Object(c.useState)(!1),_=Object(b.a)(R,2),M=_[0],T=_[1],P=Object(c.useState)(""),G=Object(b.a)(P,2),B=G[0],U=G[1];function V(){return(V=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(y,"/api/collections/edit"),{picture:B,topic:h,author:I,comments:L,year:M,description:k,title:d,id:s._id},{headers:{"x-auth-token":r.token}});case 3:i($(t)),a.current.click(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){s&&(j(s.title),O(s.topic),w(s.description),D(s.author),F(s.comments),T(s.year),U(s.picture))}),[s]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"modal fade",id:"editCollection",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsxs)("div",{className:"modal-content",style:{position:"relative"},children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:ue.AddCollectionModal.collectionSettings[r.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:ue.AddCollectionModal.title[r.user.lang]})}),Object(n.jsx)("input",{type:"text",value:d,onChange:function(e){return j(e.target.value)},className:"form-control",placeholder:ue.AddCollectionModal.title[r.user.lang],"aria-label":"Title","aria-describedby":"basic-addon1"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",children:ue.AddCollectionModal.topic[r.user.lang]})}),Object(n.jsxs)("select",{className:"custom-select",value:h,id:"inputGroupSelect01",onChange:function(e){return O(e.target.value)},children:[Object(n.jsx)("option",{value:"Books",children:"Books"}),Object(n.jsx)("option",{value:"Alcohol",children:"Alcohol"}),Object(n.jsx)("option",{value:"CS:GO Skins",children:"CS:GO Skins"})]})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Xe,{picture:B,setPicture:U})}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:ue.AddCollectionModal.description[r.user.lang]})}),Object(n.jsx)("textarea",{className:"form-control",value:k,onChange:function(e){return w(e.target.value)},"aria-label":"With textarea"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:L,onChange:function(e){return F(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"commentsCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"commentsCheck",children:ue.AddCollectionModal.comments[r.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:I,onChange:function(e){return D(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"authorCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"authorCheck",children:ue.AddCollectionModal.author[r.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch",children:[Object(n.jsx)("input",{defaultChecked:M,onChange:function(e){return console.log(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"yearCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"yearCheck",children:ue.AddCollectionModal.date[r.user.lang]})]})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",ref:a,children:ue.AddCollectionModal.close[r.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return V.apply(this,arguments)},children:ue.AddCollectionModal.save[r.user.lang]})]})]})})})})};var it=function(e){var t=e.id,a=Object(l.c)(),r=Object(l.d)((function(e){return e.allCollections})),s=r.collections,i=r.loading;return Object(c.useEffect)((function(){a($(t))}),[a,t]),Object(n.jsxs)(n.Fragment,{children:[i&&Object(n.jsx)("div",{className:"text-center mt-2",children:Object(n.jsx)(et,{})}),s.length&&!i&&Object(n.jsxs)("div",{className:"d-flex collections-container flex-wrap justify-content-center  mt-3",children:[s.map((function(e){return Object(n.jsx)(rt,Object(p.a)({},e),e._id)})),Object(n.jsx)(st,{id:t})]})]})};var lt=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=e.userData,a=Object(l.d)((function(e){return e.error})).loading,r=Object(l.d)((function(e){return e.allCollections})).collections,s=Object(c.useState)({}),i=Object(b.a)(s,2),o=i[0],u=i[1],m=Object(j.h)(),p=new URLSearchParams(m.search).get("id"),O=Object(l.c)();return Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(X()),O(se()),console.log(p),e.prev=3,e.next=6,v.a.get("".concat(y,"/api/user/profile"),{params:{id:p}});case 6:t=e.sent,u(t.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),O(re(e.t0));case 13:return e.prev=13,O(ie()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}})()()}),[p]),Object(n.jsxs)(n.Fragment,{children:[a&&!o.user&&Object(n.jsx)(Fe,{}),o.user&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"d-flex mt-3 align-items-center flex-md-row flex-column",style:{gap:"3rem"},children:[Object(n.jsxs)("div",{className:"d-flex flex-column",children:[Object(n.jsxs)("div",{className:"bg-light text-center p-3",style:{borderRadius:10},children:[Object(n.jsx)(h,{picture:o.user.userPhoto,name:o.user.displayName,styles:{width:180,height:180,fontSize:"5rem"}}),Object(n.jsx)("h4",{children:o.user.displayName}),Object(n.jsx)("span",{children:o.user.userRole})]}),"admin"===t.user.userRole&&Object(n.jsx)("div",{className:"bg-light text-center p-3 mt-1",style:{borderRadius:10},children:Object(n.jsx)(d.b,{to:"/admin",className:"btn btn-primary",children:"Admin panel"})})]}),Object(n.jsxs)("div",{className:"bg-light p-3 w-100",style:{borderRadius:10},children:[Object(n.jsx)("h2",{children:"About"}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Email: ",o.user.email]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Register date: ",new Date(parseFloat(o.user.registerDate)).toLocaleDateString()]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Number of collections: ",r.length]})]})]})]}),("admin"===t.user.userRole||t.user.id===p)&&Object(n.jsxs)("div",{className:"text-center mt-2",children:[Object(n.jsx)($e,{styles:{width:"100%"}}),Object(n.jsx)(Ze,{})]}),Object(n.jsx)(it,{id:p})]})]})})),ot=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=e.component,a=Object(Te.a)(e,["component"]),c=Object(l.c)();return Object(n.jsx)(j.b,Object(p.a)(Object(p.a)({},a),{},{render:function(e){return c(le)?Object(n.jsx)(t,Object(p.a)({},e)):Object(n.jsx)(j.a,{to:{pathname:"/login",state:{nextPathname:e.location.pathname}}})}}))})),ut=a(100),dt=a(248),jt=a(249),bt=a(250),mt=a(251);var pt=Object(l.b)((function(e){return e.userData}),null)((function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1],j=Object(c.useState)([]),m=Object(b.a)(j,2),p=m[0],h=m[1],O=Object(c.useState)(!1),g=Object(b.a)(O,2),N=g[0],k=g[1],w=Object(c.useState)(""),C=Object(b.a)(w,2),L=C[0],F=C[1],R=Object(l.d)((function(e){return e.userData})).userData,_=Object(l.d)((function(e){return e.error})),M=Object(l.c)(),T=["displayName","email","registerDate","userRole"];function P(e,t){u(!o),r(a.sort((function(e,a){return function(e,t,a,n){return e[a]===t[a]?0:e[a]>t[a]?n?1:-1:e[a]<t[a]?n?-1:1:void 0}(e,a,t,o)})).slice()),setTimeout((function(){e.target.blur()}),100)}function G(e){switch(e){case"delete":M(function(e,t){return function(){var a=Object(f.a)(x.a.mark((function a(n){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.forEach(function(){var t=Object(f.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.delete("".concat(y,"/api/user/delete"),{params:{id:a},headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),n(re(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),n({type:S});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),n({type:S});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(R.token,p));break;case"setAdmin":M(function(e,t){return function(a){t.forEach(function(){var t=Object(f.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("".concat(y,"/api/user/setAdmin"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(re(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:I});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:I})}}(R.token,p));break;case"removeAdmin":M(function(e,t,a){return function(a){t.forEach(function(){var t=Object(f.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("".concat(y,"/api/user/removeAdmin"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(re(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:D});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:D})}}(R.token,p));break;case"block":M(function(e,t){return function(a){t.forEach(function(){var t=Object(f.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("".concat(y,"/api/user/block"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(re(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:A});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:A})}}(R.token,p));break;case"unblock":M(function(e,t){return function(a){t.forEach(function(){var t=Object(f.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("".concat(y,"/api/user/unblock"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(re(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:E});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:E})}}(R.token,p))}r([])}return Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.token){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,v.a.get("".concat(y,"/api/user/users"),{headers:{"x-auth-token":R.token}});case 5:(t=e.sent).data&&r(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),F(e.t0.response?e.t0.response.data.message:"Connection error. Please try again later:("),k(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[R,a.length]),Object(c.useEffect)((function(){F(_.error.message),_.error.message&&k(!0)}),[_]),Object(n.jsxs)(n.Fragment,{children:[(!a.length||L)&&Object(n.jsx)(Fe,{errorLoading:N,errorMessage:L}),a.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"d-flex flex-column w-100 mb-2",children:Object(n.jsxs)("div",{className:"d-flex flex-xl-row flex-column align-items-center",children:[Object(n.jsxs)("div",{className:"btn-group btn-group-sm-sm mr-xl-auto mb-xl-0 mb-1",role:"group","aria-label":"Basic example",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"displayName")},children:"Name"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"email")},children:"Email"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"registerDate")},children:"Register date"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"userRole")},children:"User role"})]}),Object(n.jsxs)("div",{className:"btn-group btn-group-sm-sm",role:"group","aria-label":"Basic example",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!p.length,onClick:function(){return G("delete")},children:["Delete ",Object(n.jsx)(Ce.a,{})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!p.length,onClick:function(){return G("block")},children:["Blocked ",Object(n.jsx)(dt.a,{style:{marginBottom:4}})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!p.length,onClick:function(){return G("unblock")},children:["Unblocked ",Object(n.jsx)(jt.a,{style:{marginBottom:4}})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!p.length,onClick:function(){return G("setAdmin")},children:["Set admin ",Object(n.jsx)(bt.a,{style:{marginBottom:3}})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!p.length,onClick:function(){return G("removeAdmin")},children:["Remove admin ",Object(n.jsx)(mt.a,{style:{marginBottom:3}})]})]})]})}),Object(n.jsxs)("table",{className:"table table-bordered table-hover table-responsive-md",children:[Object(n.jsx)("caption",{children:"List of users"}),Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Select"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Regiser Date"}),Object(n.jsx)("th",{children:"User role"})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{className:"".concat(e.blocked&&"table-danger").concat(p.findIndex((function(t){return t===e._id}))>-1?" table-primary":""),children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("input",{id:e._id,type:"checkbox",readOnly:!0,checked:p.findIndex((function(t){return t===e._id}))>-1,className:"form-check-label",onClick:function(t){return function(e,t){e.target.checked?h([].concat(Object(ut.a)(p),[t])):h(p.filter((function(e){return e!==t})))}(t,e._id)}})})}),T.map((function(t,a){return Object(n.jsx)("td",{children:"displayName"===t?Object(n.jsx)(d.b,{className:"text-decoration-none",to:"/profile?id=".concat(e._id),children:e.blocked?Object(n.jsxs)(n.Fragment,{children:[" ",e[t]," ",Object(n.jsx)(dt.a,{style:{marginBottom:4}})," "]}):e[t]}):e[t]},a)}))]},t)}))})]})]}):Object(n.jsx)(n.Fragment,{})]})}));var ht=Object(l.b)((function(e){return e.userData}),null)((function(e){return Object(n.jsx)(n.Fragment,{children:e.userData.token&&"admin"!==e.userData.user.userRole?Object(n.jsxs)("h1",{children:[ue.Admin.permission[e.userData.user.lang]," :("]}):Object(n.jsx)(pt,{})})})),Ot=a(34),xt=a.n(Ot),ft=(a(63),a(64),{blacklist:["xxx","yyy","zzz"],maxTags:5,placeholder:"type something",dropdown:{enabled:0}});var gt=function(e){var t=e.author,a=e.year,r=e.comments,s=e.id,i=Object(c.useRef)(),o=Object(l.c)(),u=Object(l.d)((function(e){return e.userData})).userData,d=Object(c.useState)(""),j=Object(b.a)(d,2),m=j[0],h=j[1],O=Object(c.useState)(""),g=Object(b.a)(O,2),N=g[0],k=g[1],w=Object(c.useState)(""),C=Object(b.a)(w,2),S=C[0],I=C[1],D=Object(c.useState)([]),A=Object(b.a)(D,1)[0],E=Object(c.useState)({}),L=Object(b.a)(E,2),F=L[0],R=L[1],_=Object(c.useState)(""),M=Object(b.a)(_,2),T=M[0],P=M[1],G=Object(c.useCallback)((function(){o(ae(s))}),[s,o]);function B(){return(B=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(X()),o({type:Y}),o(Z(!0)),e.next=6,v.a.post("".concat(y,"/api/item/add"),{title:m,date:S,author:N,tags:i.current.value,id:s,picture:T},{headers:{"x-auth-token":u.token}});case 6:G(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(re(e.t0));case 12:return e.prev=12,o({type:Q}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R({loading:!0}),e.next=4,v.a.get("".concat(y,"/api/item/tags"));case 4:t=e.sent,R((function(e){return Object(p.a)(Object(p.a)({},e),{},{whitelist:t.data.map((function(e){return e.text})),loading:!1})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=Object(p.a)(Object(p.a)({},ft),A);return Object(n.jsx)("div",{className:"modal fade",id:"addItem",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsx)("div",{className:"modal-content",style:{position:"relative"},children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:ue.AddItemModal.itemSettings[u.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{disabled:!0,defaultChecked:r,type:"checkbox",className:"custom-control-input",id:"commentsCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"commentsCheck",children:ue.AddItemModal.comments[u.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{disabled:!0,defaultChecked:t,type:"checkbox",className:"custom-control-input",id:"authorCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"authorCheck",children:ue.AddItemModal.author[u.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch",children:[Object(n.jsx)("input",{disabled:!0,defaultChecked:a,type:"checkbox",className:"custom-control-input",id:"yearCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"yearCheck",children:ue.AddItemModal.date[u.user.lang]})]})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:ue.AddItemModal.title[u.user.lang]})}),Object(n.jsx)("input",{value:m,onChange:function(e){return h(e.target.value)},type:"text",className:"form-control",placeholder:ue.AddItemModal.title[u.user.lang],"aria-label":"Title","aria-describedby":"basic-addon1"})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Xe,{picture:T,setPicture:P})}),t&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:ue.AddItemModal.author[u.user.lang]})}),Object(n.jsx)("input",{value:N,onChange:function(e){return k(e.target.value)},type:"text",className:"form-control",placeholder:ue.AddItemModal.author[u.user.lang],"aria-label":"Author","aria-describedby":"basic-addon1"})]}),a&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:ue.AddItemModal.date[u.user.lang]})}),Object(n.jsx)("input",{onChange:function(e){return I(e.target.valueAsNumber)},type:"date",className:"form-control",placeholder:ue.AddItemModal.date[u.user.lang],"aria-label":"Date"})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(xt.a,Object(p.a)(Object(p.a)({tagifyRef:i,settings:U},F),{},{placeholder:ue.AddItemModal.tags.en}))})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:ue.AddItemModal.close[u.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return B.apply(this,arguments)},children:ue.AddItemModal.addItem[u.user.lang]})]})]})})})})};var vt=function(e){var t=Object(c.useRef)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{ref:t,className:"card add-item bg-light","data-toggle":"modal","data-target":"#addItem",style:{width:"12rem"},children:Object(n.jsx)("div",{className:"card-body d-flex justify-content-center align-items-center",style:{height:"15rem"},children:Object(n.jsx)("span",{children:Object(n.jsx)(qe.a,{height:"50px",width:"50px"})})})}),Object(n.jsx)(gt,Object(p.a)({},e))]})},yt=(a(226),a(228),a(252));a(229);var Nt=function(e){var t=e.userPhoto,a=e.userId,c=e.date,r=e.comment,s=e.modal,i=e.userName,o=e.owner,u=e._id,j=Object(l.d)((function(e){return e.userData})).userData,b=Object(l.d)((function(e){return e.item})).item,m=Object(l.c)();function p(){return(p=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(y,"/api/item/removeComment"),{commentId:u,itemId:b._id},{headers:{"x-auth-token":j.token}});case 3:m(ce(b._id)),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:"d-flex comment flex-column w-100",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center comment-header justify-content-between p-1 border border-primary",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)(d.b,{onClick:function(){return s.current.click()},to:"/profile?id=".concat(a),style:{textDecoration:"none"},children:Object(n.jsx)(h,{picture:t,name:i})}),Object(n.jsx)("span",{className:"pl-1",children:i})]}),Object(n.jsxs)("div",{children:[new Date(c).toLocaleDateString(),j.user&&(a===o||"admin"===j.user.userRole)&&Object(n.jsx)("span",{className:"ml-1",style:{cursor:"pointer"},onClick:function(){return p.apply(this,arguments)},children:Object(n.jsx)(yt.a,{})})]})]}),Object(n.jsx)("div",{className:"border p-2",children:Object(n.jsx)(ct.a,{source:r})})]})},kt=a(253);a(230);var wt=function(e){var t=Object(l.d)((function(e){return e.userData})).userData,a=Object(l.d)((function(e){return e.item})).item,r=Object(l.d)((function(e){return e.collection.collection})).collection,s=Object(c.useRef)(),i=Object(l.c)(),o=Object(c.useState)(""),u=Object(b.a)(o,2),d=u[0],j=u[1];function m(){return p.apply(this,arguments)}function p(){return(p=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.trim()){e.next=2;break}return e.abrupt("return");case 2:return j(""),e.prev=3,e.next=6,v.a.post("".concat(y,"/api/item/comment"),{comment:d,itemId:a._id,collectionId:r._id},{headers:{"x-auth-token":t.token}});case 6:i(ce(a._id)),s.current.blur(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:t.user&&Object(n.jsxs)("div",{className:"d-flex comment flex-column w-100",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center p-1 border border-primary",children:[Object(n.jsx)(h,{picture:t.user.userPhoto,name:t.user.displayName}),Object(n.jsx)("span",{className:"pl-1",children:t.user.displayName})]}),Object(n.jsxs)("div",{className:"d-flex border p-2",children:[Object(n.jsx)("textarea",{placeholder:ue.AddComment.leaveComment[t.user.lang],value:d,onChange:function(e){return j(e.target.value)},maxLength:"200",className:"form-control mr-1",onKeyPress:function(e){"Enter"!==e.code||e.shiftKey||(e.preventDefault(),m())}}),Object(n.jsx)("button",{className:"btn btn-outline-primary btn-comment",disabled:!d.length,ref:s,onClick:m,children:Object(n.jsx)(kt.a,{})})]})]})})};var Ct=Object(l.b)((function(e){return e.item}),null)((function(e){var t=Object(l.d)((function(e){return e.item})).item,a=Object(l.d)((function(e){return e.userData})).userData,r=Object(l.d)((function(e){return e.collection.collection})).collection,s=Object(j.g)(),i=Object(j.h)(),o=new URLSearchParams(i.search).get("item_id"),u=Object(c.useRef)();Object(c.useEffect)((function(){o&&ge()(u.current).modal("show"),o||ge()(u.current).modal("hide"),console.log(o)}),[o]);var d=Object(l.c)();return Object(c.useEffect)((function(){var e=setInterval(Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id){e.next=2;break}return e.abrupt("return");case 2:d(ce(t._id));case 3:case"end":return e.stop()}}),e)}))),3e3);return function(){return clearInterval(e)}})),Object(n.jsx)("div",{className:"modal fade",ref:u,tabIndex:"-1",id:"item","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:t.title}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){ge()(u.current).on("hide.bs.modal",(function(e){s.push("/collection?collection_id=".concat(r._id))}))},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[t.picture&&Object(n.jsx)("img",{src:t.picture,className:"img-fluid rounded",alt:t.title}),Object(n.jsxs)("ul",{className:"list-group mt-1",children:[t.author&&Object(n.jsxs)("li",{className:"list-group-item",children:[ue.ModalItem.author[a.user.lang],": ",t.author]}),t.year&&Object(n.jsxs)("li",{className:"list-group-item",children:[ue.ModalItem.date[a.user.lang],": ",new Date(t.year).toLocaleDateString()]})]}),t.tags&&t.tags.length>0&&Object(n.jsx)(xt.a,{value:t.tags,readOnly:!0,className:"mt-1"}),t.likes&&Object(n.jsx)("div",{className:"d-flex justify-content-end",children:Object(n.jsx)(Ne,{likes:t.likes,id:t._id})})]}),Object(n.jsx)("div",{className:"d-flex modal-footer justify-content-start",children:r.comments&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(wt,{}),t.comments?t.comments.map((function(e,t){return Object(n.jsx)(Nt,Object(p.a)(Object(p.a)({},e),{},{owner:a.user&&a.user.id}),t)})):Object(n.jsx)("p",{children:"Loading..."})]})})]})})})})),St={blacklist:["xxx","yyy","zzz"],maxTags:5,placeholder:"type something",dropdown:{enabled:0}};var It=function(e){var t=Object(c.useRef)(),a=Object(l.d)((function(e){return e.userData})).userData,r=Object(l.d)((function(e){return e.item})).item,s=Object(l.d)((function(e){return e.collection.collection})).collection,i=Object(l.c)(),o=Object(c.useState)(""),u=Object(b.a)(o,2),d=u[0],j=u[1],m=Object(c.useState)(""),h=Object(b.a)(m,2),O=h[0],g=h[1],N=Object(c.useState)(""),k=Object(b.a)(N,2),w=k[0],C=k[1],S=Object(c.useState)([]),I=Object(b.a)(S,1)[0],D=Object(c.useState)({}),A=Object(b.a)(D,2),E=A[0],L=A[1],F=Object(c.useState)(""),R=Object(b.a)(F,2),_=R[0],M=R[1];function T(){return(T=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(X()),i({type:Y}),i(Z(!0)),e.next=6,v.a.post("".concat(y,"/api/item/edit"),{picture:_,title:d,author:O,tags:t.current.value,date:w,id:r._id,collection_id:s._id},{headers:{"x-auth-token":a.token}});case 6:i(ae(s._id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(re(e.t0));case 12:return e.prev=12,i({type:Q}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}Object(c.useEffect)((function(){Object.keys(r).length&&(j(r.title),g(r.author),C(r.year),M(r.picture))}),[r]),Object(c.useEffect)((function(){(function(){var e=Object(f.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L({loading:!0}),e.next=4,v.a.get("".concat(y,"/api/item/tags"));case 4:t=e.sent,L((function(e){return Object(p.a)(Object(p.a)({},e),{},{whitelist:t.data.map((function(e){return e.text})),loading:!1})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=Object(p.a)(Object(p.a)({},St),I);return Object(n.jsx)("div",{className:"modal fade",id:"editItem",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsx)("div",{className:"modal-content",style:{position:"relative"},children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:ue.EditItemModal.itemSettings[a.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:ue.EditItemModal.title[a.user.lang]})}),Object(n.jsx)("input",{value:d,onChange:function(e){return j(e.target.value)},type:"text",className:"form-control",placeholder:ue.EditItemModal.title[a.user.lang]})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Xe,{picture:_,setPicture:M})}),s.author&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:ue.EditItemModal.author[a.user.lang]})}),Object(n.jsx)("input",{value:O,onChange:function(e){return g(e.target.value)},type:"text",className:"form-control",placeholder:ue.EditItemModal.author[a.user.lang],"aria-label":"Author","aria-describedby":"basic-addon1"})]}),s.year&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:ue.EditItemModal.date[a.user.lang]})}),Object(n.jsx)("input",{onChange:function(e){return C(e.target.valueAsNumber)},type:"date",className:"form-control",placeholder:ue.EditItemModal.date[a.user.lang],"aria-label":"Date",value:w?new Date(w).toISOString().substr(0,10):""})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(xt.a,Object(p.a)(Object(p.a)({tagifyRef:t,settings:P},E),{},{placeholder:ue.EditItemModal.tags.en,value:r.tags}))})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:ue.AddItemModal.close[a.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return T.apply(this,arguments)},children:ue.EditItemModal.saveItem[a.user.lang]})]})]})})})})},Dt=a(254),At=a(255);var Et=function(){var e=Object(l.d)((function(e){return e.collection})),t=e.sortOptions,a=e.collection,r=Object(c.useState)(t.key),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(l.d)((function(e){return e.userData})).userData,d=Object(l.c)();return Object(c.useEffect)((function(){var e;d((e=i.toLowerCase(),{type:T,payload:e}))}),[i,d]),Object(n.jsxs)("div",{className:"d-flex align-items-center mb-3 w-100 px-2 p-sm-0",children:[Object(n.jsx)("span",{children:ue.Sort.sort[u.user.lang]}),Object(n.jsxs)("select",{className:"form-control ml-2",value:i,id:"inputGroupSelect01",onChange:function(e){return o(e.target.value)},children:[Object(n.jsx)("option",{value:"Title",children:ue.Sort.title[u.user.lang]}),Object(n.jsx)("option",{value:"Likes",children:ue.Sort.likes[u.user.lang]}),a.collection.author&&Object(n.jsx)("option",{value:"Author",children:ue.Sort.author[u.user.lang]}),a.collection.year&&Object(n.jsx)("option",{value:"Date",children:ue.Sort.date[u.user.lang]}),a.collection.comments&&Object(n.jsx)("option",{value:"Comments",children:ue.Sort.comments[u.user.lang]})]}),Object(n.jsx)("span",{className:"ml-2",onClick:function(){return d({type:P})},style:{cursor:"pointer"},children:t.ascending?Object(n.jsx)(Dt.a,{size:20}):Object(n.jsx)(At.a,{size:20})})]})};var Lt=function(e){var t=e.filter,a=e.setFilter,r=Object(l.d)((function(e){return e.collection.collection})).collection,s=Object(c.useRef)(),i=Object(l.d)((function(e){return e.userData})).userData;return Object(n.jsxs)("div",{className:"d-flex align-items-center flex-column mb-3 w-100 px-2 p-sm-0",children:[Object(n.jsx)("button",{className:"btn btn-primary mb-2 ml-auto w-100",type:"button","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Filters"}),Object(n.jsx)("div",{className:"collapse w-100",id:"collapseExample",children:Object(n.jsxs)("div",{className:"card card-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:ue.Filter.title[i.user.lang]})}),Object(n.jsx)("input",{value:t.title||"",type:"text",className:"form-control",onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{title:e.target.value}))},placeholder:ue.Filter.title[i.user.lang],"aria-describedby":"basic-addon1"})]}),r.author&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:ue.Filter.author[i.user.lang]})}),Object(n.jsx)("input",{value:t.author||"",onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{author:e.target.value}))},type:"text",className:"form-control",placeholder:ue.Filter.author[i.user.lang],"aria-describedby":"basic-addon1"})]}),r.year&&Object(n.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(n.jsx)("input",{value:t.dateFrom&&new Date(t.dateFrom).toISOString().substr(0,10)||"",type:"date",onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{dateFrom:new Date(e.target.value)}))},className:"form-control"}),Object(n.jsx)("span",{className:"mx-2",children:"-"}),Object(n.jsx)("input",{value:t.dateTo&&new Date(t.dateTo).toISOString().substr(0,10)||"",type:"date",onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{dateTo:new Date(e.target.value)}))},className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-check mb-3",children:[Object(n.jsx)("input",{ref:s,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{picture:e.target.checked}))},className:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"}),Object(n.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:ue.Filter.picture[i.user.lang]})]}),Object(n.jsxs)("div",{className:"d-flex custom-control custom-switch justify-content-end",children:[Object(n.jsx)("input",{defaultValue:!1,type:"checkbox",onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{apply:e.target.checked}))},className:"custom-control-input",id:"customSwitch1"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitch1",children:ue.Filter.apply[i.user.lang]})]}),Object(n.jsx)("button",{className:"btn btn-danger",onClick:function(){var e={};for(var n in t)e[n]="apply"===n?t[n]:void 0;s.current.checked=!1,a(Object(p.a)({},e))},children:ue.Filter.reset[i.user.lang]})]})})]})};a(231);var Ft=Object(l.b)((function(e){return e.userData}),null)((function(e){var t=Object(c.useState)({apply:!1}),a=Object(b.a)(t,2),r=a[0],s=a[1],i=Object(l.d)((function(e){return e.userData})).userData,o=Object(l.d)((function(e){return e.collection.collection})),u=o.collection,m=o.items,p=Object(l.d)((function(e){return e.collection})).sortOptions,h=Object(l.d)((function(e){return e.error})),O=h.loading,x=h.error,f=Object(l.c)(),g=Object(j.h)(),v=new URLSearchParams(g.search).get("collection_id"),y=new URLSearchParams(g.search).get("item_id");return Object(c.useEffect)((function(){y&&f(ce(y))}),[y]),Object(c.useEffect)((function(){f(X()),f(ae(v))}),[v]),Object(c.useEffect)((function(){if(!x&&!O){var e=setInterval((function(){f(ae(v))}),2e3);return function(){return clearInterval(e)}}}),[v]),Object(n.jsxs)(n.Fragment,{children:[O&&Object(n.jsx)(Fe,{}),u&&!O&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.b,{to:"/profile?id=".concat(u.owner),children:"Back to profile"}),Object(n.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(n.jsx)("h2",{children:u.title}),Object(n.jsx)("h3",{className:"badge badge-primary",children:u.topic}),Object(n.jsx)(ct.a,{source:u.description})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)(Et,{}),Object(n.jsx)(Lt,{filter:r,setFilter:s})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-around flex-wrap item-container",children:[m.filter((function(e){if(!r.apply)return!0;if(r.title&&r.title.trim()){var t=new RegExp("".concat(r.title),"gi");if(!e.title.match(t))return!1}if(r.author&&r.author.trim()){var a=new RegExp("".concat(r.author),"gi");if(!e.author.match(a))return!1}if(r.dateFrom&&r.dateTo){var n=new Date(e.year);if(n<r.dateFrom||n>r.dateTo)return!1}return!(r.picture&&!e.picture)})).sort((function(e,t){if(e&&t)switch(p.key){case"likes":if(e.likes.number>t.likes.number)return p.ascending?1:-1;if(e.likes.number===t.likes.number)return 0;if(e.likes.number<t.likes.number)return p.ascending?-1:1;break;case"date":if(e.year>t.year)return p.ascending?1:-1;if(e.year===t.year)return 0;if(e.year<t.year)return p.ascending?-1:1;break;case"comments":if(e.comments.length>t.comments.length)return p.ascending?1:-1;if(e.comments.length===t.comments.length)return 0;if(e.comments.length<t.comments.length)return p.ascending?-1:1;break;default:if(e[p.key]>t[p.key])return p.ascending?1:-1;if(e[p.key]===t[p.key])return 0;if(e[p.key]<t[p.key])return p.ascending?-1:1}})).map((function(e){return Object(n.jsx)(Se,{itemProps:e,collectionId:v},e._id)})),i.user&&(i.user.id===u.owner||"admin"===i.user.userRole)&&Object(n.jsx)(vt,{comments:u.comments,author:u.author,year:u.year,id:v}),Object(n.jsx)(Ct,{}),Object(n.jsx)(It,{})]})]})]})}));a(232);var Rt=Object(l.b)((function(e){return e.search}),null)((function(e){var t=e.items,a=e.searchText,c=(Object(l.d)((function(e){return e.userData})).userData,Object(l.d)((function(e){return e.error})).loading);return Object(n.jsxs)(n.Fragment,{children:[c&&Object(n.jsx)(Fe,{}),!c&&Object(n.jsx)("div",{className:"d-flex flex-wrap search-items-container",children:t.length?Object(n.jsxs)("div",{className:"d-flex flex-column",children:[Object(n.jsxs)("h4",{children:["Here's what we found for ",a]}),Object(n.jsx)("div",{className:"d-flex flex-wrap",style:{gap:"2rem"},children:t.map((function(e){return Object(n.jsx)(Se,{itemProps:e},e._id)}))})]}):"Nothing was found for your request :("})]})}));a(91);var _t=function(){var e=Object(l.d)((function(e){return e.error})),t=e.error,a=e.loading,c=Object(l.c)();return Object(n.jsx)(n.Fragment,{children:!a&&t&&Object(n.jsxs)("div",{className:"alert alert-warning alert-danger fade-in show mt-1",role:"alert",children:[t,Object(n.jsx)("button",{type:"button",className:"close","aria-label":"Close","data-dismiss":"alert",onClick:function(){return c(X())},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var Mt=function(){var e=Object(l.d)((function(e){return e.error})),t=e.loading,a=e.error,c=e.notify,r=Object(l.d)((function(e){return e.collection})).loadingCollection,s=Object(l.c)();return Object(n.jsx)(n.Fragment,{children:c&&!a&&Object(n.jsxs)("div",{className:"alert alert-primary fade-in",role:"alert",children:[t||r?Object(n.jsx)(et,{}):Object(n.jsx)("span",{children:"Successfully uploaded"}),Object(n.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return s(X())},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var Tt=Object(l.b)((function(e){return e.userData}),null)((function(){var e=Object(l.c)();return Object(c.useEffect)((function(){e(function(){var e=Object(f.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token")||sessionStorage.getItem("token")){e.next=4;break}return oe(),e.abrupt("return");case 4:return e.prev=4,e.next=7,v.a.post("".concat(y,"/api/user/verifyToken"),null,{headers:{"x-auth-token":a}});case 7:if(!e.sent.data){e.next=13;break}return e.next=11,v.a.get("".concat(y,"/api/user/"),{headers:{"x-auth-token":a}});case 11:n=e.sent,t({type:N,payload:{token:a,user:n.data}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t(re(e.t0.response&&e.t0.response.data?e.t0.response.data.message||e.t0.response.data:""));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(de,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(_t,{}),Object(n.jsx)(Mt,{}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",component:Re}),Object(n.jsx)(j.b,{path:"/login",component:Je}),Object(n.jsx)(j.b,{path:"/register",component:We}),Object(n.jsx)(j.b,{path:"/profile:id?",component:lt}),Object(n.jsx)(j.b,{path:"/collection:collection_id?",exact:!0,component:Ft}),Object(n.jsx)(j.b,{path:"/search",exact:!0,component:Rt}),Object(n.jsx)(ot,{path:"/admin",component:ht})]})]}),Object(n.jsx)(je,{})]})})),Pt={userData:{token:void 0,user:{lang:localStorage.getItem("lang")||"en"}}},Gt={error:"",notify:!1,loading:!1},Bt={item:{}},Ut={collection:{},sortOptions:{key:"Date",ascending:!0},loadingCollection:!1},Vt={tags:[],lastAdded:[],mostLike:[]},zt={items:JSON.parse(sessionStorage.getItem("search-items"))||{},searchText:sessionStorage.getItem("search-text")||""},Ht={collections:{},loading:!1},Kt=Object(u.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case k:case w:return Object(p.a)(Object(p.a)({},e),{},{userData:Object(p.a)(Object(p.a)({},e.userData),{},{token:t.payload.token,user:t.payload.user})});case U:return Object(p.a)(Object(p.a)({},e),{},{userData:Object(p.a)(Object(p.a)({},e.userData),{},{user:Object(p.a)(Object(p.a)({},e.userData.user),{},{lang:t.payload})})});case S:case I:case D:case A:case E:case C:default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});case F:return Object(p.a)(Object(p.a)({},e),{},{error:""});case z:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case H:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});case J:return Object(p.a)(Object(p.a)({},e),t.payload);case K:return Object(p.a)(Object(p.a)({},e),{},{notify:t.payload});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case _:return Object(p.a)(Object(p.a)({},e),{},{item:t.payload});default:return e}},collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(p.a)(Object(p.a)({},e),{},{collection:t.payload});case T:return Object(p.a)(Object(p.a)({},e),{},{sortOptions:Object(p.a)(Object(p.a)({},e.sortOptions),{},{key:t.payload})});case P:return Object(p.a)(Object(p.a)({},e),{},{sortOptions:Object(p.a)(Object(p.a)({},e.sortOptions),{},{ascending:!e.sortOptions.ascending})});case Y:return Object(p.a)(Object(p.a)({},e),{},{loadingCollection:!0});case Q:return Object(p.a)(Object(p.a)({},e),{},{loadingCollection:!1});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(p.a)(Object(p.a)({},e),{},{tags:t.payload.tags,lastAdded:t.payload.lastAdded,mostLike:t.payload.mostLike});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(p.a)(Object(p.a)({},e),{},{items:t.payload.items,searchText:t.payload.searchText});default:return e}},allCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(p.a)(Object(p.a)({},e),{},{collections:t.payload});case W:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case q:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});default:return e}}}),Jt=Object(u.e)(Kt,Object(u.d)(Object(u.a)(o.a)));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(l.a,{store:Jt,children:Object(n.jsx)(Tt,{})})}),document.getElementById("root"))},5:function(e){e.exports=JSON.parse('{"Home":{"recentlyAdded":{"en":"Recently added","ru":"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435"},"mostLike":{"en":"Most like","ru":"\u0422\u043e\u043f \u043b\u0430\u0439\u043a\u043e\u0432"}},"Profile":{"info":{"en":"Info","ru":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},"registerDate":{"en":"Register date","ru":"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"},"role":{"en":"Role","ru":"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"},"collections":{"en":"Collections","ru":"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"blockUser":{"en":"User has been blocked","ru":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"},"adminPanel":{"en":"Admin panel","ru":"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}},"Search":{"notFound":{"en":"No items found","ru":"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"}},"Collections":{"allCollections":{"en":"All collections","ru":"\u0412\u0441\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}},"Admin":{"permission":{"en":"You don\'t have permissions for this page","ru":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"}},"Header":{"collections":{"en":"Collections","ru":"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"home":{"en":"Home","ru":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"},"myCollections":{"en":"My collections","ru":"\u041c\u043e\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"logIn":{"en":"Log in","ru":"\u0412\u043e\u0439\u0442\u0438"},"register":{"en":"Register","ru":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"logOut":{"en":"Log out","ru":"\u0412\u044b\u0439\u0442\u0438"}},"AddItemModal":{"itemSettings":{"en":"Item settings","ru":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"close":{"en":"Close","ru":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"addItem":{"en":"Add item","ru":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442"},"tags":{"en":"Type some tags"}},"Item":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"edit":{"en":"Edit","ru":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}},"ModalItem":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"}},"FileInput":{"dragAndDrop":{"en":"Drag \'n\' drop picture here, or click to select","ru":"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c"}},"AddComment":{"leaveComment":{"en":"Leave a comment...","ru":"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439..."}},"AddCollectionModal":{"collectionSettings":{"en":"Collection settings","ru":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"topic":{"en":"Topic","ru":"\u0422\u0435\u043c\u0430"},"description":{"en":"Description","ru":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},"close":{"en":"Close","ru":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"save":{"en":"Save","ru":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"addCollection":{"en":"Add collection","ru":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e"}},"CollectionCard":{"explore":{"en":"Explore","ru":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}},"Filter":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"picture":{"en":"Picture","ru":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},"apply":{"en":"Apply","ru":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},"reset":{"en":"Reset","ru":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}},"Sort":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440\u0443"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0435"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c"},"likes":{"en":"Likes","ru":"\u041b\u0430\u0439\u043a\u0430\u043c"},"sort":{"en":"Sort","ru":"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},"logIn":{"signIn":{"en":"Sign in","ru":"\u0412\u043e\u0439\u0442\u0438"},"emailAdress":{"en":"Email address","ru":"Email \u0430\u0434\u0440\u0435\u0441"},"password":{"en":"Password","ru":"\u041f\u0430\u0440\u043e\u043b\u044c"},"rememberMe":{"en":"Remember me","ru":"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"}},"Register":{"signUp":{"en":"Sign up","ru":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"emailAddress":{"en":"Email address","ru":"Email \u0430\u0434\u0440\u0435\u0441"},"password":{"en":"Password","ru":"\u041f\u0430\u0440\u043e\u043b\u044c"},"passwordConfirm":{"en":"Password confirm","ru":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},"name":{"en":"Name","ru":"\u0418\u043c\u044f"}},"EditItemModal":{"itemSettings":{"en":"Item settings","ru":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"close":{"en":"Close","ru":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"saveItem":{"en":"Save","ru":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"tags":{"en":"Type some tags"}}}')},64:function(e,t,a){},77:function(e,t,a){},91:function(e,t,a){}},[[233,1,2]]]);
//# sourceMappingURL=main.a3efa1bd.chunk.js.map