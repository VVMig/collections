(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},133:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},222:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(47),i=a.n(s),o=a(3),l=a(93),u=a(30),d=(a(111),a(112),a(14)),j=a(16),b=a(25),m=a.n(b),p=a(8),h=a(234),O=a(2);a(113);var x=function(e){var t=e.picture,a=e.name,c=e.styles;return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"user-picture",style:Object(O.a)({backgroundImage:"url(".concat(t,")")},c)}):a&&Object(n.jsx)("div",{className:"user-picture text-uppercase",style:Object(O.a)({},c),children:a[0]})})},f=a(6),g=a.n(f),v=a(10),y=a(12),k=a.n(y),N="https://collections-itransition.herokuapp.com",w="GET_USER",C="SET_USER",S="RESET_USER",I="IS_LOGIN",D="DELETE_USER",A="SET_ADMIN",E="REMOVE_ADMIN",M="BLOCK_USER",L="UNBLOCK_USER",F="SET_ERROR",_="CLEAR_ERROR",R="SET_ITEM",T="GET_ITEM",P="GET_COLLECTION",G="SORT_COLLECTION",B="CHANGE_ASCENDING",U="GET_HOME",V="SET_SEARCH",z="SWITCH_LANG",H="GET_ALLCOLLECTIONS",K="START_LOADING_PAGE",J="END_LOADING_PAGE",W="SET_NOTIFY",q="ERROR_CLEARALL",Y="START_LOADING_COLLECTIONS",Q="END_LOADING_COLLECTIONS",X="START_LOADING_COLLECTION",Z="END_LOADING_COLLECTION",$="TOGGLE_MODE";function ee(){return{type:q,payload:{error:"",notify:!1,loading:!1}}}function te(e){return{type:W,payload:e}}function ae(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Y}),t.next=4,k.a.get("".concat(N,"/api/collections/"),{params:{id:e}});case 4:n=t.sent,a({type:H,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(oe(t.t0));case 11:return t.prev=11,a({type:Q}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}function ne(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(le()),t.next=4,k.a.get("".concat(N,"/api/item/search"),{params:{searchText:e}});case 4:n=t.sent,sessionStorage.setItem("search-items",JSON.stringify(n.data)),sessionStorage.setItem("search-text",e),a({type:V,payload:{items:n.data,searchText:e}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(oe(t.t0));case 13:return t.prev=13,a(ue()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}function ce(e){return function(){var t=Object(v.a)(g.a.mark((function t(a,n){var c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&a(le()),t.prev=1,!n().error.error){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,k.a.get("".concat(N,"/api/user/home"));case 6:c=t.sent,a({type:U,payload:c.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(oe(t.t0));case 13:return t.prev=13,e&&a(ue()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e,a){return t.apply(this,arguments)}}()}function re(e){return function(){var t=Object(v.a)(g.a.mark((function t(a,n){var c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n().error.error){t.next=3;break}return t.abrupt("return");case 3:return n().collection.collection.collection?n().collection.collection.collection._id!==e&&a(le()):a(le()),t.next=6,k.a.get("".concat(N,"/api/collections/collection"),{params:{id:e}});case 6:c=t.sent,a({type:P,payload:c.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(oe(t.t0));case 13:return t.prev=13,a(ue()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e,a){return t.apply(this,arguments)}}()}function se(e){return function(t){t({type:C,payload:e})}}function ie(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("".concat(N,"/api/item/"),{params:{id:e}});case 3:n=t.sent,a({type:T,payload:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function oe(e){var t="";return t=e.response?e.response.data.message||e.response.data.error.message:"Connection error. Please try again later:(",{type:F,payload:t}}function le(){return{type:K}}function ue(){return{type:J}}function de(){return localStorage.getItem("token")||sessionStorage.getItem("token")}function je(){return function(e){e({type:S,payload:{token:void 0,user:{lang:"en"}}})}}a(133);var be=a(5);var me=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=e.userData,a=Object(o.d)((function(e){return e.search})).searchText,r=Object(o.c)(),s=Object(j.g)(),i=Object(c.useState)(a),l=Object(p.a)(i,2),u=l[0],b=l[1];Object(c.useEffect)((function(){b(a)}),[a]);var m=function(e){e.preventDefault(),u.trim()&&r(ne(u)),s.push("/search")};return Object(n.jsx)("header",{children:Object(n.jsxs)("nav",{className:"navbar navbar-expand-md navbar-".concat(t.user.darkMode?"dark bg-dark":"light bg-light"),children:[Object(n.jsx)(d.b,{className:"navbar-brand",to:"/",children:be.Header.collections[t.user.lang]}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample02","aria-controls":"navbarsExample02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarsExample02",children:[Object(n.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(d.b,{className:"nav-link",to:"/",children:be.Header.home[t.user.lang]})})}),Object(n.jsxs)("form",{className:"form-inline",id:"item-search",onSubmit:m,children:[Object(n.jsx)("input",{className:"form-control w-100",value:u,onChange:function(e){return b(e.target.value)},type:"text",placeholder:"Search"}),Object(n.jsx)("span",{onClick:m,children:Object(n.jsx)(h.a,{})})]}),Object(n.jsxs)("div",{class:"custom-control custom-switch ml-3",children:[Object(n.jsx)("input",{checked:t.user.darkMode,onChange:function(e){return r((t=e.target.checked,function(){var e=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n().userData.userData.token){e.next=4;break}return a({type:$,payload:t}),e.abrupt("return");case 4:return e.next=6,k.a.post("".concat(N,"/api/user/darkMode"),{mode:t},{headers:{"x-auth-token":n().userData.userData.token}});case 6:a({type:$,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(oe(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()));var t},type:"checkbox",class:"custom-control-input",id:"customSwitch1"}),Object(n.jsx)("label",{class:"custom-control-label",for:"customSwitch1"})]}),r(de)||t.token?Object(n.jsx)("div",{className:"flex-column ml-md-3 mt-1 mt-md-0 avatar",children:Object(n.jsxs)("div",{className:"btn-group",children:[t.token?Object(n.jsx)("button",{type:"button",className:"btn dropdown-toggle bg-dark".concat(!t.user.userPhoto&&" text-light"),"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(n.jsx)(x,{picture:t.user.userPhoto,name:t.user.displayName})}):Object(n.jsx)("button",{type:"button",className:"btn dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(n.jsx)("div",{style:{background:"grey"}})}),Object(n.jsxs)("div",{className:"dropdown-menu dropdown-menu-md-right",children:[t.user&&Object(n.jsx)("button",{className:"dropdown-item",onClick:function(){return s.push("/profile?id=".concat(t.user.id))},children:t.user.displayName}),Object(n.jsx)("button",{className:"dropdown-item",onClick:function(){return r(je()),localStorage.removeItem("token"),sessionStorage.removeItem("token"),void window.location.reload()},children:be.Header.logOut[t.user.lang]})]})]})}):Object(n.jsxs)("div",{className:"d-flex flex-column ml-md-3 align-items-md-center",children:[Object(n.jsx)(d.b,{to:"/login",children:be.Header.logIn[t.user.lang]}),Object(n.jsx)(d.b,{to:"/register",children:be.Header.register[t.user.lang]})]})]})]})})}));a(135);var pe=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.userData})).userData;return Object(n.jsx)("footer",{className:"footer py-3 bg-".concat(a.user.darkMode?"dark":"light"," mt-3"),children:Object(n.jsx)("div",{className:"container d-flex justify-content-end",children:Object(n.jsxs)("select",{className:"form-control select-lang",value:e.userData.user.lang,onChange:function(e){return t((a=e.target.value,function(){var e=Object(v.a)(g.a.mark((function e(t,n){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=n().userData.userData.token)||(t({type:z,payload:a}),localStorage.setItem("lang",a)),e.prev=2,e.next=5,k.a.post("".concat(N,"/api/user/switchLang"),{lang:a},{headers:{"x-auth-token":c}});case 5:r=e.sent,t({type:z,payload:r.data}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()));var a},children:[Object(n.jsx)("option",{value:"ru",children:"ru"}),Object(n.jsx)("option",{value:"en",children:"en"})]})})})})),he=a(242),Oe=a(257),xe=a(256),fe=a(239),ge=a(240),ve=a(241),ye=(a(52),a(53),a(54),a(55),a(136),a(235)),ke=a(236);var Ne=function(e){var t=e.likes,a=e.id,r=e.homeAction,s=Object(o.d)((function(e){return e.collection.collection})).collection,i=Object(o.d)((function(e){return e.userData})).userData,l=Object(c.useState)(!1),u=Object(p.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(0),m=Object(p.a)(b,2),h=m[0],O=m[1],x=Object(o.c)();function f(){return(f=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(N,"/api/item/like"),{itemId:a},{headers:{"x-auth-token":i.token}});case 3:"function"===typeof r?r():(x(re(s._id)),x(ie(a))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){j((i.user&&t.usersId.findIndex((function(e){return e==="".concat(i.user.id)})))>=0),O(t.number)}),[t,i]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("span",{onClick:function(){return f.apply(this,arguments)},style:{cursor:"pointer"},className:"ml-auto",children:[d?Object(n.jsx)(ye.a,{className:"item-liked"}):Object(n.jsx)(ke.a,{className:"item-unliked"})," ",h]})})},we=a(237);a(137);var Ce=function(e){var t=e.picture,a=e.className,c=e.styles;return Object(n.jsx)("div",{className:a,children:t?Object(n.jsx)("div",{className:"main-picture",style:Object(O.a)({backgroundImage:"url(".concat(t,")")},c)}):Object(n.jsx)("div",{className:"main-picture",style:c,children:Object(n.jsx)(we.a,{size:30})})})},Se=a(238);a(138);var Ie=function(e){var t=e.itemProps,a=t.author,c=t.year,r=t.title,s=t._id,i=t.picture,l=t.collection_id,u=e.itemProps.likes,d=e.homeAction,b=Object(j.h)(),m=Object(o.d)((function(e){return e.userData})).userData,p=Object(o.d)((function(e){return e.collection.collection})).collection,h=Object(j.g)(),x=Object(o.c)();function f(){return(f=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(ee()),x(te(!0)),e.next=5,k.a.delete("".concat(N,"/api/item/delete"),{params:{id:s,collection_id:l},headers:{"x-auth-token":m.token}});case 5:x(re(l)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x(oe(e.t0));case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"card border item",style:{width:"12rem"},children:[Object(n.jsx)(Ce,{picture:i,title:r,styles:{height:100},className:"card-img-top"}),Object(n.jsxs)("div",{className:"card-body",onClick:function(e){h.push("/collection?collection_id=".concat(l,"&item_id=").concat(s))},style:{cursor:"pointer"},children:[Object(n.jsx)("h5",{className:"card-title",children:r}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[a&&Object(n.jsxs)("li",{className:"list-group-item",children:[be.Item.author[m.user.lang],": ",a]}),c&&Object(n.jsxs)("li",{className:"list-group-item",children:[be.Item.date[m.user.lang],": ",new Date(c).toLocaleDateString()]})]})]}),Object(n.jsxs)("div",{className:"d-flex card-footer",children:["/collection"===b.pathname&&("admin"===m.user.userRole||p.owner===m.user.id)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{style:{cursor:"pointer"},"data-toggle":"modal","data-target":"#editItem",onClick:function(t){var a;x((a=Object(O.a)({},e.itemProps),{type:R,payload:a}))},children:be.Item.edit[m.user.lang]}),Object(n.jsx)("span",{className:"ml-1",style:{cursor:"pointer"},onClick:function(){return f.apply(this,arguments)},children:Object(n.jsx)(Se.a,{className:"text-danger"})})]}),Object(n.jsx)(Ne,{likes:u,id:s,homeAction:d})]})]})})};xe.a.use([fe.a,ge.a,ve.a]);var De=Object(o.b)((function(e){return e.home}),null)((function(e){var t=e.lastAdded,a=Object(o.c)(),r=Object(c.useCallback)((function(){a(ce())}),[a]);return Object(n.jsx)(n.Fragment,{children:t.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Last added"}),Object(n.jsx)(Oe.a,{navigation:!0,pagination:{clickable:!0},spaceBetween:50,slidesPerView:1,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1200:{slidesPerView:4}},children:t.map((function(e,t){return Object(n.jsx)(he.a,{className:"d-flex justify-content-center pb-5 pt-5",children:Object(n.jsx)(Ie,{itemProps:e,homeAction:r})},"slide-".concat(t))}))})]})})})),Ae=a(243);a(139);xe.a.use([Ae.a]);var Ee=Object(o.b)((function(e){return e.home}),null)((function(e){var t=e.tags,a=Object(j.g)(),c=Object(o.c)();return Object(n.jsx)("div",{className:"mt-2 mb-2",children:t.length>0&&Object(n.jsx)(Oe.a,{spaceBetween:50,slidesPerView:2,scrollbar:{draggable:!0},className:"d-flex justify-content-center pb-3",breakpoints:{576:{slidesPerView:4},768:{slidesPerView:5},992:{slidesPerView:6},1200:{slidesPerView:8}},children:t.map((function(e,t){return Object(n.jsx)(he.a,{onClick:function(){return t=e.text,c(ne(t)),void a.push("/search");var t},children:Object(n.jsx)("div",{className:"border text-center rounded bg-light text-dark tag",style:{cursor:"pointer"},children:e.text})},"slide-".concat(t))}))})})}));var Me=function(e){var t=e.itemProps,a=t.author,r=t.year,s=t.title,i=t._id,l=t.picture,u=t.collection_id,d=e.itemProps.likes,b=(e.homeAction,Object(j.h)(),Object(o.d)((function(e){return e.userData})).userData,Object(o.d)((function(e){return e.collection.collection})).collection,Object(c.useRef)(),Object(j.g)()),m=Object(o.c)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"row w-100 justify-content-center",children:Object(n.jsxs)("div",{className:"d-flex row col-8 bg-light border rounded",children:[Object(n.jsxs)("div",{className:"d-flex flex-column col-md-6 justify-content-between p-2 order-md-1 order-2",children:[Object(n.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(n.jsx)("h4",{children:s}),Object(n.jsx)("div",{className:"text-left mt-3",children:Object(n.jsxs)("ul",{className:"list-group",children:[a&&Object(n.jsxs)("li",{className:"list-group-item",children:["Author: ",a]}),r&&Object(n.jsxs)("li",{className:"list-group-item",children:["Date: ",new Date(r).toLocaleDateString()]})]})})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(e){m(ie(i)),b.push("/collection?collection_id=".concat(u))},children:"View item"}),Object(n.jsx)(Ne,{likes:d,id:i})]})]}),Object(n.jsx)("div",{className:"col-md-6 p-2 p-md-0 order-1 order-md-2",children:Object(n.jsx)(Ce,{picture:l})})]})})})};xe.a.use([fe.a,ge.a,ve.a]);var Le=Object(o.b)((function(e){return e.home}),null)((function(e){var t=e.mostLike,a=Object(o.c)(),r=Object(c.useCallback)((function(){a(ce())}),[a]);return Object(n.jsx)(n.Fragment,{children:t.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Most like"}),Object(n.jsx)(Oe.a,{navigation:!0,pagination:{clickable:!0},spaceBetween:50,slidesPerView:1,children:t.map((function(e,t){return Object(n.jsx)(he.a,{className:"d-flex pb-5 pt-5 justify-content-center",children:Object(n.jsx)(Me,{itemProps:e,homeAction:r})},"slide-".concat(t))}))})]})})}));a(140);var Fe=function(){return Object(n.jsx)("div",{className:"spinner d-flex w-100 justify-content-center align-items-center",children:Object(n.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})};var _e=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=Object(o.d)((function(e){return e.error})).loading,a=Object(o.c)();return Object(c.useEffect)((function(){a(ee()),a(ce(!0))}),[a]),Object(c.useEffect)((function(){var e=setInterval((function(){a(ce())}),2e3);return function(){return clearInterval(e)}}),[a]),Object(n.jsxs)(n.Fragment,{children:[t&&Object(n.jsx)(Fe,{}),!t&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ee,{}),Object(n.jsxs)("div",{className:"row text-center",children:[Object(n.jsx)("div",{className:"col-12 ",children:Object(n.jsx)(De,{})}),Object(n.jsx)("div",{className:"col-12 most-like",children:Object(n.jsx)(Le,{})})]})]})]})})),Re=a(49);function Te(e,t,a,n){var r=Object(c.useState)(""),s=Object(p.a)(r,2),i=s[0],o=s[1];return{bind:{value:i,type:e,style:n,id:"".concat(a||e,"Input"),className:"form-control mb-2",placeholder:t||e,name:a||e,onChange:function(e){return o(e.target.value)},required:!0},clear:function(){return o("")},value:function(){return i}}}var Pe=a(50),Ge=a(94),Be=a(95),Ue=a(101),Ve=a(98),ze=a(96),He=a.n(ze),Ke={btn:{backgroundColor:"rgb(255, 255, 255)",display:"inline-flex",alignItems:"center",color:"rgba(0, 0, 0, 0.54)",boxShadow:"rgba(0, 0, 0, 0.24) 0px 2px 2px 0px, rgba(0, 0, 0, 0.24) 0px 0px 1px 0px",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:500,fontFamily:"Roboto, sans-serif"},div:{background:"rgb(255, 255, 255)",padding:10,borderRadius:2},span:{padding:"10px 10px 10px 0px",fontWeight:500}},Je=function(e){Object(Ue.a)(a,e);var t=Object(Ve.a)(a);function a(e){var n;return Object(Ge.a)(this,a),(n=t.call(this,e)).checkLoginState=function(e){n.setState({isProcessing:!1}),n.props.callback(e)},n.handleClick=function(){!n.state.isLoaded||n.state.isProcessing||n.props.disabled||(n.setState({isProcessing:!0}),window.VK.Auth.login(n.checkLoginState))},n.state={isLoaded:!1,isProcessing:!1},n}return Object(Be.a)(a,[{key:"componentDidMount",value:function(){this.sdkLoaded(),this.asyncInit(),this.loadSdkAsync()}},{key:"asyncInit",value:function(){var e=this,t=this.props.apiId;window.vkAsyncInit=function(){window.VK.init({apiId:t}),e.setState({isLoaded:!0})}}},{key:"sdkLoaded",value:function(){this.setState({isLoaded:!0})}},{key:"loadSdkAsync",value:function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://vk.com/js/api/openapi.js?",e.async=!0,e.id="vk-sdk",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"render",value:function(){var e=this.props,t=(e.disabled,e.callback,e.apiId,e.containerStyle,Object(Pe.a)(e,["disabled","callback","apiId","containerStyle"]));return Object(n.jsxs)("button",Object(O.a)(Object(O.a)({},t),{},{onClick:this.handleClick,style:Ke.btn,children:[Object(n.jsx)("div",{style:Ke.div,children:Object(n.jsx)(He.a,{height:18})}),Object(n.jsx)("span",{style:Ke.span,children:"Login"})]}))}}]),a}(c.Component);var We=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=Object(o.d)((function(e){return e.userData})).userData,a=Te("email","Email adress"),r=Te("password"),s=Object(c.createRef)(!1),i=Object(o.c)(),l=Object(j.g)();function u(e,t,a){return d.apply(this,arguments)}function d(){return(d=Object(v.a)(g.a.mark((function e(t,n,c){var s,o,u,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),s=n&&n.tokenId,o=!1,u=c&&c.session&&{email:c.session.user.id,displayName:"".concat(c.session.user.first_name," ").concat(c.session.user.last_name)},e.prev=4,e.next=7,k.a.post("".concat(N,"/api/user/login"),{email:a.value(),password:r.value(),idToken:s,vkId:u});case 7:d=e.sent,i(se(d.data)),o?localStorage.setItem("token",d.data.token):sessionStorage.setItem("token",d.data.token),l.push("/"),window.location.reload(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i(oe(e.t0));case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}return t.token&&l.push("/"),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"text-center w-50",children:[Object(n.jsxs)("form",{className:"form-signin",onSubmit:function(e){return u(e)},children:[Object(n.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:be.logIn.signIn[t.user.lang]}),Object(n.jsx)("label",{htmlFor:"emailInput",className:"sr-only",children:be.logIn.emailAdress[t.user.lang]}),Object(n.jsx)("input",Object(O.a)(Object(O.a)({},a.bind),{},{autoFocus:!0})),Object(n.jsx)("label",{htmlFor:"passwordInput",className:"sr-only",children:be.logIn.password[t.user.lang]}),Object(n.jsx)("input",Object(O.a)({},r.bind)),Object(n.jsx)("div",{className:"checkbox mb-3",children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",value:"remember-me",ref:s})," ",be.logIn.rememberMe[t.user.lang]]})}),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:be.logIn.signIn[t.user.lang]})]}),Object(n.jsxs)("div",{className:"d-flex mt-3",children:[Object(n.jsx)("div",{className:"mr-1",children:Object(n.jsx)(Re.GoogleLogin,{clientId:"327702379277-a035t5hfkakgfb0dt3111c7eiio2458p.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return u(null,e)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(Je,{apiId:"7722772",callback:function(e){return u(null,null,e)}})})]})]})})})}));var qe=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=Te("email","Email adress"),a=Te("password","Password"),c=Te("password","Confirm password","passwordCheck"),r=Te("text","Name","displayName"),s=Object(j.g)(),i=Object(o.d)((function(e){return e.userData})).userData,l=Object(o.c)();function u(){return(u=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,k.a.post("".concat(N,"/api/user/register"),{displayName:r.value(),email:t.value(),password:a.value(),passwordCheck:c.value()});case 4:s.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),l(oe(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function d(e,t,a){return b.apply(this,arguments)}function b(){return(b=Object(v.a)(g.a.mark((function e(n,c,r){var i,o,u,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.preventDefault(),i=c&&c.tokenId,o=!1,u=r&&{email:r.session.user.id,displayName:"".concat(r.session.user.first_name," ").concat(r.session.user.last_name)},e.prev=4,e.next=7,k.a.post("".concat(N,"/api/user/login"),{email:t.value(),password:a.value(),idToken:i,vkId:u});case 7:d=e.sent,l(se(d.data)),o?localStorage.setItem("token",d.data.token):sessionStorage.setItem("token",d.data.token),s.push("/"),window.location.reload(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),l(oe(e.t0));case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}return i.token&&s.push("/"),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{className:"text-center w-50",children:[Object(n.jsxs)("form",{className:"needs-validation",onSubmit:function(e){return u.apply(this,arguments)},children:[Object(n.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:be.Register.signUp[i.user.lang]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"namelInput",className:"sr-only",children:be.Register.name[i.user.lang]}),Object(n.jsx)("input",Object(O.a)(Object(O.a)({},r.bind),{},{autoFocus:!0}))]}),Object(n.jsx)("label",{htmlFor:"emailInput",className:"sr-only",children:be.Register.emailAddress[i.user.lang]}),Object(n.jsx)("input",Object(O.a)({},t.bind)),Object(n.jsx)("label",{htmlFor:"passwordInput",className:"sr-only",children:be.Register.password[i.user.lang]}),Object(n.jsx)("input",Object(O.a)({},a.bind)),Object(n.jsx)("label",{htmlFor:"passwordCheckInput",className:"sr-only",children:be.Register.passwordConfirm[i.user.lang]}),Object(n.jsx)("input",Object(O.a)({},c.bind)),Object(n.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:be.Register.signUp[i.user.lang]})]}),Object(n.jsxs)("div",{className:"d-flex mt-3",children:[Object(n.jsx)("div",{className:"mr-1",children:Object(n.jsx)(Re.GoogleLogin,{clientId:"327702379277-a035t5hfkakgfb0dt3111c7eiio2458p.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return d(null,e)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(Je,{apiId:"7722772",callback:function(e){return d(null,null,e)}})})]})]})})})})),Ye=a(245),Qe=a(99),Xe=a(244);a(146);var Ze=function(e){var t=e.picture,a=e.setPicture,r=Object(o.d)((function(e){return e.userData})).userData,s=Object(c.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){a(t.result)}}))}),[a]),i=Object(Qe.a)({maxFiles:1,accept:"image/jpeg, image/png",onDrop:s}),l=i.getRootProps,u=i.getInputProps,d=i.isDragActive;return Object(n.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(n.jsxs)("div",Object(O.a)(Object(O.a)({},l()),{},{className:"d-flex justify-content-center align-items-center border border-primary w-100 p-3 rounded  drag-zone",style:{height:"".concat(d?70:50,"px")},children:[Object(n.jsx)("input",Object(O.a)({},u())),Object(n.jsx)("span",{className:"text-primary",children:d?Object(n.jsx)(Xe.a,{size:30}):be.FileInput.dragAndDrop[r.user.lang]})]})),t&&Object(n.jsxs)("aside",{className:"mt-1",children:[Object(n.jsx)("h5",{children:"Preview"}),Object(n.jsx)("img",{src:t,className:"img-fluid rounded",width:"100",alt:"example"})]})]})};a(77);var $e=function(e){var t=Object(o.d)((function(e){return e.userData})).userData,a=Object(j.h)(),r=Object(o.c)(),s=Object(c.useState)(""),i=Object(p.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)("Books"),b=Object(p.a)(d,2),m=b[0],h=b[1],O=Object(c.useState)(""),x=Object(p.a)(O,2),f=x[0],y=x[1],w=Object(c.useState)(!1),C=Object(p.a)(w,2),S=C[0],I=C[1],D=Object(c.useState)(!0),A=Object(p.a)(D,2),E=A[0],M=A[1],L=Object(c.useState)(!1),F=Object(p.a)(L,2),_=F[0],R=F[1],T=Object(c.useState)(""),P=Object(p.a)(T,2),G=P[0],B=P[1];console.log("Add: "+S);var U=new URLSearchParams(a.search).get("id");function V(){return(V=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(ee()),r({type:X}),r(te(!0)),e.prev=3,e.next=6,k.a.post("".concat(N,"/api/collections/upload"),{owner:U,title:l,topic:m,description:f,author:S,comments:E,year:_,picture:G},{headers:{"x-auth-token":t.token}});case 6:B(""),I(!1),M(!0),h("Books"),u(""),R(!1),y(""),r(ae(U)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),r(oe(e.t0));case 19:return e.prev=19,r({type:Z}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"modal fade",id:"addCollection",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsxs)("div",{className:"modal-content",style:{position:"relative"},children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:be.AddCollectionModal.collectionSettings[t.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:be.AddCollectionModal.title[t.user.lang]})}),Object(n.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)},className:"form-control",placeholder:be.AddCollectionModal.title[t.user.lang],"aria-label":"Title","aria-describedby":"basic-addon1"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",children:be.AddCollectionModal.topic[t.user.lang]})}),Object(n.jsxs)("select",{className:"custom-select",value:m,id:"inputGroupSelect01",onChange:function(e){return h(e.target.value)},children:[Object(n.jsx)("option",{value:"Books",children:"Books"}),Object(n.jsx)("option",{value:"Alcohol",children:"Alcohol"}),Object(n.jsx)("option",{value:"CS:GO Skins",children:"CS:GO Skins"})]})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Ze,{picture:G,setPicture:B})}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:be.AddCollectionModal.description[t.user.lang]})}),Object(n.jsx)("textarea",{className:"form-control",value:f,onChange:function(e){return y(e.target.value)},"aria-label":"With textarea"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:E,onChange:function(e){return M(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"commentsCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"commentsCheck",children:be.AddCollectionModal.comments[t.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:S,onChange:function(e){return I(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"authorCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"authorCheck",children:be.AddCollectionModal.author[t.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch",children:[Object(n.jsx)("input",{defaultChecked:_,onChange:function(e){return R(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"yearCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"yearCheck",children:be.AddCollectionModal.date[t.user.lang]})]})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:be.AddCollectionModal.close[t.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return V.apply(this,arguments)},children:be.AddCollectionModal.save[t.user.lang]})]})]})})})})};a(147);var et=function(e){var t=e.styles;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"card add-collection bg-light text-primary","data-toggle":"modal","data-target":"#addCollection",style:Object(O.a)({width:"12rem"},t),children:Object(n.jsx)("div",{className:"card-body d-flex justify-content-center align-items-center",style:{height:"15rem"},children:Object(n.jsx)("span",{children:Object(n.jsx)(Ye.a,{height:"50px",width:"50px"})})})}),Object(n.jsx)($e,{})]})};a(148);function tt(){return Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})}var at=a(246),nt=a(247),ct=a(33),rt=a.n(ct);var st=function(e){var t=e.title,a=e.topic,c=e.description,r=e.picture,s=e._id,i=e.owner,l=Object(o.d)((function(e){return e.userData})).userData,u=Object(o.c)();function j(){return(j=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(ee()),u(le()),u(te(!0)),e.next=6,k.a.delete("".concat(N,"/api/collections/delete"),{params:{id:s},headers:{"x-auth-token":l.token}});case 6:u(ae(i)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u(oe(e.t0));case 12:return e.prev=12,u(ue()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)(Ce,{picture:r}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:t}),Object(n.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:a}),Object(n.jsx)(rt.a,{source:c})]}),Object(n.jsxs)("div",{className:"card-footer d-flex align-items-center justify-content-between",children:[Object(n.jsx)(d.b,{to:"/collection?collection_id=".concat(s),className:"btn btn-primary",children:be.CollectionCard.explore[l.user.lang]}),l.user&&(l.user.id===i||"admin"===l.user.userRole)&&Object(n.jsxs)("div",{className:"dropdown dropup",children:[Object(n.jsx)("span",{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"},children:Object(n.jsx)(at.a,{})}),Object(n.jsxs)("div",{className:"dropdown-menu dropdown-menu-left","aria-labelledby":"dropdownMenuButton",children:[Object(n.jsxs)("button",{className:"dropdown-item",type:"button",onClick:function(){return j.apply(this,arguments)},children:[Object(n.jsx)(Se.a,{className:"text-danger"})," Delete"]}),Object(n.jsxs)("button",{className:"dropdown-item",type:"button","data-toggle":"modal","data-target":"#editCollection",onClick:function(){u(re(s))},children:[Object(n.jsx)(nt.a,{})," Edit"]})]})]})]})]})})};a(222);var it=function(e){var t=e.id,a=Object(c.createRef)(),r=Object(o.d)((function(e){return e.userData})).userData,s=Object(o.d)((function(e){return e.collection.collection})).collection,i=Object(o.c)(),l=Object(c.useState)(""),u=Object(p.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)("Books"),m=Object(p.a)(b,2),h=m[0],O=m[1],x=Object(c.useState)(""),f=Object(p.a)(x,2),y=f[0],w=f[1],C=Object(c.useState)(!1),S=Object(p.a)(C,2),I=S[0],D=S[1],A=Object(c.useState)(!0),E=Object(p.a)(A,2),M=E[0],L=E[1],F=Object(c.useState)(!1),_=Object(p.a)(F,2),R=_[0],T=_[1],P=Object(c.useState)(""),G=Object(p.a)(P,2),B=G[0],U=G[1];function V(){return(V=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(N,"/api/collections/edit"),{picture:B,topic:h,author:I,comments:M,year:R,description:y,title:d,id:s._id},{headers:{"x-auth-token":r.token}});case 3:i(ae(t)),a.current.click(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){s&&(j(s.title),O(s.topic),w(s.description),D(s.author),L(s.comments),T(s.year),U(s.picture))}),[s]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"modal fade",id:"editCollection",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsxs)("div",{className:"modal-content",style:{position:"relative"},children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:be.AddCollectionModal.collectionSettings[r.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:be.AddCollectionModal.title[r.user.lang]})}),Object(n.jsx)("input",{type:"text",value:d,onChange:function(e){return j(e.target.value)},className:"form-control",placeholder:be.AddCollectionModal.title[r.user.lang],"aria-label":"Title","aria-describedby":"basic-addon1"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",children:be.AddCollectionModal.topic[r.user.lang]})}),Object(n.jsxs)("select",{className:"custom-select",value:h,id:"inputGroupSelect01",onChange:function(e){return O(e.target.value)},children:[Object(n.jsx)("option",{value:"Books",children:"Books"}),Object(n.jsx)("option",{value:"Alcohol",children:"Alcohol"}),Object(n.jsx)("option",{value:"CS:GO Skins",children:"CS:GO Skins"})]})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Ze,{picture:B,setPicture:U})}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:be.AddCollectionModal.description[r.user.lang]})}),Object(n.jsx)("textarea",{className:"form-control",value:y,onChange:function(e){return w(e.target.value)},"aria-label":"With textarea"})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:M,onChange:function(e){return L(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"commentsCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"commentsCheck",children:be.AddCollectionModal.comments[r.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{defaultChecked:I,onChange:function(e){return D(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"authorCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"authorCheck",children:be.AddCollectionModal.author[r.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch",children:[Object(n.jsx)("input",{defaultChecked:R,onChange:function(e){return console.log(e.target.checked)},type:"checkbox",className:"custom-control-input",id:"yearCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"yearCheck",children:be.AddCollectionModal.date[r.user.lang]})]})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",ref:a,children:be.AddCollectionModal.close[r.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return V.apply(this,arguments)},children:be.AddCollectionModal.save[r.user.lang]})]})]})})})})};var ot=function(e){var t=e.id,a=Object(o.c)(),r=Object(o.d)((function(e){return e.allCollections})),s=r.collections,i=r.loading;return Object(c.useEffect)((function(){a(ae(t))}),[a,t]),Object(n.jsxs)(n.Fragment,{children:[i&&Object(n.jsx)("div",{className:"text-center mt-2",children:Object(n.jsx)(tt,{})}),s.length&&!i&&Object(n.jsxs)("div",{className:"d-flex collections-container flex-wrap justify-content-center  mt-3",children:[s.map((function(e){return Object(n.jsx)(st,Object(O.a)({},e),e._id)})),Object(n.jsx)(it,{id:t})]})]})};var lt=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=e.userData,a=Object(o.d)((function(e){return e.error})).loading,r=Object(o.d)((function(e){return e.allCollections})).collections,s=Object(c.useState)({}),i=Object(p.a)(s,2),l=i[0],u=i[1],b=Object(j.h)(),m=new URLSearchParams(b.search).get("id"),h=Object(o.c)();return Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(ee()),h(le()),console.log(m),e.prev=3,e.next=6,k.a.get("".concat(N,"/api/user/profile"),{params:{id:m}});case 6:t=e.sent,u(t.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),h(oe(e.t0));case 13:return e.prev=13,h(ue()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}})()()}),[m]),Object(n.jsxs)(n.Fragment,{children:[a&&!l.user&&Object(n.jsx)(Fe,{}),l.user&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"d-flex mt-3 align-items-center flex-md-row flex-column",style:{gap:"3rem"},children:[Object(n.jsxs)("div",{className:"d-flex flex-column",children:[Object(n.jsxs)("div",{className:"text-center p-3 ".concat(t.user.darkMode&&"text-light bg-dark"),style:{borderRadius:10},children:[Object(n.jsx)(x,{picture:l.user.userPhoto,name:l.user.displayName,styles:{width:180,height:180,fontSize:"5rem"}}),Object(n.jsx)("h4",{children:l.user.displayName}),Object(n.jsx)("span",{children:l.user.userRole})]}),"admin"===t.user.userRole&&Object(n.jsx)("div",{className:"bg-".concat(t.user.darkMode?"dark":"light"," text-center p-3 mt-1"),style:{borderRadius:10},children:Object(n.jsx)(d.b,{to:"/admin",className:"btn btn-".concat(t.user.darkMode?"light":"dark"),children:"Admin panel"})})]}),Object(n.jsxs)("div",{className:"bg-".concat(t.user.darkMode?"dark":"light"," p-3 w-100"),style:{borderRadius:10},children:[Object(n.jsx)("h2",{children:"About"}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Email: ",l.user.email]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Register date: ",new Date(parseFloat(l.user.registerDate)).toLocaleDateString()]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Number of collections: ",r.length]})]})]})]}),("admin"===t.user.userRole||t.user.id===m)&&Object(n.jsxs)("div",{className:"text-center mt-2",children:[Object(n.jsx)(et,{styles:{width:"100%"}}),Object(n.jsx)($e,{})]}),Object(n.jsx)(ot,{id:m})]})]})})),ut=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=e.component,a=Object(Pe.a)(e,["component"]),c=Object(o.c)();return Object(n.jsx)(j.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){return c(de)?Object(n.jsx)(t,Object(O.a)({},e)):Object(n.jsx)(j.a,{to:{pathname:"/login",state:{nextPathname:e.location.pathname}}})}}))})),dt=a(100),jt=a(248),bt=a(249),mt=a(250),pt=a(251);var ht=Object(o.b)((function(e){return e.userData}),null)((function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(p.a)(s,2),l=i[0],u=i[1],j=Object(c.useState)([]),b=Object(p.a)(j,2),m=b[0],h=b[1],O=Object(c.useState)(!1),x=Object(p.a)(O,2),f=x[0],y=x[1],w=Object(c.useState)(""),C=Object(p.a)(w,2),S=C[0],I=C[1],F=Object(o.d)((function(e){return e.userData})).userData,_=Object(o.d)((function(e){return e.error})),R=Object(o.c)(),T=["displayName","email","registerDate","userRole"];function P(e,t){u(!l),r(a.sort((function(e,a){return function(e,t,a,n){return e[a]===t[a]?0:e[a]>t[a]?n?1:-1:e[a]<t[a]?n?-1:1:void 0}(e,a,t,l)})).slice()),setTimeout((function(){e.target.blur()}),100)}function G(e){switch(e){case"delete":R(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.forEach(function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.delete("".concat(N,"/api/user/delete"),{params:{id:a},headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),n(oe(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),n({type:D});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),n({type:D});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(F.token,m));break;case"setAdmin":R(function(e,t){return function(a){t.forEach(function(){var t=Object(v.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("".concat(N,"/api/user/setAdmin"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(oe(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:A});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:A})}}(F.token,m));break;case"removeAdmin":R(function(e,t,a){return function(a){t.forEach(function(){var t=Object(v.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("".concat(N,"/api/user/removeAdmin"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(oe(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:E});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:E})}}(F.token,m));break;case"block":R(function(e,t){return function(a){t.forEach(function(){var t=Object(v.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("".concat(N,"/api/user/block"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(oe(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:M});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:M})}}(F.token,m));break;case"unblock":R(function(e,t){return function(a){t.forEach(function(){var t=Object(v.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("".concat(N,"/api/user/unblock"),{id:n},{headers:{"x-auth-token":e}});case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),a(oe(t.t0.response&&t.t0.response.data?t.t0.response.data.message||t.t0.response.data:"")),a({type:L});case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),a({type:L})}}(F.token,m))}r([])}return Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F.token){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,k.a.get("".concat(N,"/api/user/users"),{headers:{"x-auth-token":F.token}});case 5:(t=e.sent).data&&r(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),I(e.t0.response?e.t0.response.data.message:"Connection error. Please try again later:("),y(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[F,a.length]),Object(c.useEffect)((function(){I(_.error.message),_.error.message&&y(!0)}),[_]),Object(n.jsxs)(n.Fragment,{children:[(!a.length||S)&&Object(n.jsx)(Fe,{errorLoading:f,errorMessage:S}),a.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"d-flex flex-column w-100 mb-2",children:Object(n.jsxs)("div",{className:"d-flex flex-xl-row flex-column align-items-center",children:[Object(n.jsxs)("div",{className:"btn-group btn-group-sm-sm mr-xl-auto mb-xl-0 mb-1",role:"group","aria-label":"Basic example",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"displayName")},children:"Name"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"email")},children:"Email"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"registerDate")},children:"Register date"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return P(e,"userRole")},children:"User role"})]}),Object(n.jsxs)("div",{className:"btn-group btn-group-sm-sm",role:"group","aria-label":"Basic example",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!m.length,onClick:function(){return G("delete")},children:["Delete ",Object(n.jsx)(Se.a,{})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!m.length,onClick:function(){return G("block")},children:["Blocked ",Object(n.jsx)(jt.a,{style:{marginBottom:4}})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!m.length,onClick:function(){return G("unblock")},children:["Unblocked ",Object(n.jsx)(bt.a,{style:{marginBottom:4}})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!m.length,onClick:function(){return G("setAdmin")},children:["Set admin ",Object(n.jsx)(mt.a,{style:{marginBottom:3}})]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-secondary btn-danger",disabled:!m.length,onClick:function(){return G("removeAdmin")},children:["Remove admin ",Object(n.jsx)(pt.a,{style:{marginBottom:3}})]})]})]})}),Object(n.jsxs)("table",{className:"table table-bordered table-hover table-responsive-md",children:[Object(n.jsx)("caption",{children:"List of users"}),Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Select"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Regiser Date"}),Object(n.jsx)("th",{children:"User role"})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsxs)("tr",{className:"".concat(e.blocked&&"table-danger").concat(m.findIndex((function(t){return t===e._id}))>-1?" table-primary":""),children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("input",{id:e._id,type:"checkbox",readOnly:!0,checked:m.findIndex((function(t){return t===e._id}))>-1,className:"form-check-label",onClick:function(t){return function(e,t){e.target.checked?h([].concat(Object(dt.a)(m),[t])):h(m.filter((function(e){return e!==t})))}(t,e._id)}})})}),T.map((function(t,a){return Object(n.jsx)("td",{children:"displayName"===t?Object(n.jsx)(d.b,{className:"text-decoration-none",to:"/profile?id=".concat(e._id),children:e.blocked?Object(n.jsxs)(n.Fragment,{children:[" ",e[t]," ",Object(n.jsx)(jt.a,{style:{marginBottom:4}})," "]}):e[t]}):e[t]},a)}))]},t)}))})]})]}):Object(n.jsx)(n.Fragment,{})]})}));var Ot=Object(o.b)((function(e){return e.userData}),null)((function(e){return Object(n.jsx)(n.Fragment,{children:e.userData.token&&"admin"!==e.userData.user.userRole?Object(n.jsxs)("h1",{children:[be.Admin.permission[e.userData.user.lang]," :("]}):Object(n.jsx)(ht,{})})})),xt=a(34),ft=a.n(xt),gt=(a(63),a(64),{blacklist:["xxx","yyy","zzz"],maxTags:5,placeholder:"type something",dropdown:{enabled:0}});var vt=function(e){var t=e.author,a=e.year,r=e.comments,s=e.id,i=Object(c.useRef)(),l=Object(o.c)(),u=Object(o.d)((function(e){return e.userData})).userData,d=Object(c.useState)(""),j=Object(p.a)(d,2),b=j[0],m=j[1],h=Object(c.useState)(""),x=Object(p.a)(h,2),f=x[0],y=x[1],w=Object(c.useState)(""),C=Object(p.a)(w,2),S=C[0],I=C[1],D=Object(c.useState)([]),A=Object(p.a)(D,1)[0],E=Object(c.useState)({}),M=Object(p.a)(E,2),L=M[0],F=M[1],_=Object(c.useState)(""),R=Object(p.a)(_,2),T=R[0],P=R[1],G=Object(c.useCallback)((function(){l(re(s))}),[s,l]);function B(){return(B=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(ee()),l({type:X}),l(te(!0)),e.next=6,k.a.post("".concat(N,"/api/item/add"),{title:b,date:S,author:f,tags:i.current.value,id:s,picture:T},{headers:{"x-auth-token":u.token}});case 6:G(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l(oe(e.t0));case 12:return e.prev=12,l({type:Z}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F({loading:!0}),e.next=4,k.a.get("".concat(N,"/api/item/tags"));case 4:t=e.sent,F((function(e){return Object(O.a)(Object(O.a)({},e),{},{whitelist:t.data.map((function(e){return e.text})),loading:!1})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=Object(O.a)(Object(O.a)({},gt),A);return Object(n.jsx)("div",{className:"modal fade",id:"addItem",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsx)("div",{className:"modal-content",style:{position:"relative"},children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:be.AddItemModal.itemSettings[u.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{disabled:!0,defaultChecked:r,type:"checkbox",className:"custom-control-input",id:"commentsCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"commentsCheck",children:be.AddItemModal.comments[u.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch mr-2",children:[Object(n.jsx)("input",{disabled:!0,defaultChecked:t,type:"checkbox",className:"custom-control-input",id:"authorCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"authorCheck",children:be.AddItemModal.author[u.user.lang]})]}),Object(n.jsxs)("div",{className:"custom-control custom-switch",children:[Object(n.jsx)("input",{disabled:!0,defaultChecked:a,type:"checkbox",className:"custom-control-input",id:"yearCheck"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"yearCheck",children:be.AddItemModal.date[u.user.lang]})]})]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:be.AddItemModal.title[u.user.lang]})}),Object(n.jsx)("input",{value:b,onChange:function(e){return m(e.target.value)},type:"text",className:"form-control",placeholder:be.AddItemModal.title[u.user.lang],"aria-label":"Title","aria-describedby":"basic-addon1"})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Ze,{picture:T,setPicture:P})}),t&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:be.AddItemModal.author[u.user.lang]})}),Object(n.jsx)("input",{value:f,onChange:function(e){return y(e.target.value)},type:"text",className:"form-control",placeholder:be.AddItemModal.author[u.user.lang],"aria-label":"Author","aria-describedby":"basic-addon1"})]}),a&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:be.AddItemModal.date[u.user.lang]})}),Object(n.jsx)("input",{onChange:function(e){return I(e.target.valueAsNumber)},type:"date",className:"form-control",placeholder:be.AddItemModal.date[u.user.lang],"aria-label":"Date"})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(ft.a,Object(O.a)(Object(O.a)({tagifyRef:i,settings:U},L),{},{placeholder:be.AddItemModal.tags.en}))})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:be.AddItemModal.close[u.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return B.apply(this,arguments)},children:be.AddItemModal.addItem[u.user.lang]})]})]})})})})};var yt=function(e){var t=Object(c.useRef)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{ref:t,className:"card add-item bg-light","data-toggle":"modal","data-target":"#addItem",style:{width:"12rem"},children:Object(n.jsx)("div",{className:"card-body d-flex justify-content-center align-items-center",style:{height:"15rem"},children:Object(n.jsx)("span",{children:Object(n.jsx)(Ye.a,{height:"50px",width:"50px"})})})}),Object(n.jsx)(vt,Object(O.a)({},e))]})},kt=(a(226),a(228),a(252));a(229);var Nt=function(e){var t=e.userPhoto,a=e.userId,c=e.date,r=e.comment,s=e.modal,i=e.userName,l=e.owner,u=e._id,j=Object(o.d)((function(e){return e.userData})).userData,b=Object(o.d)((function(e){return e.item})).item,m=Object(o.c)();function p(){return(p=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(N,"/api/item/removeComment"),{commentId:u,itemId:b._id},{headers:{"x-auth-token":j.token}});case 3:m(ie(b._id)),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:"d-flex comment flex-column w-100",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center comment-header justify-content-between p-1 border border-primary",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center",children:[Object(n.jsx)(d.b,{onClick:function(){return s.current.click()},to:"/profile?id=".concat(a),style:{textDecoration:"none"},children:Object(n.jsx)(x,{picture:t,name:i})}),Object(n.jsx)("span",{className:"pl-1",children:i})]}),Object(n.jsxs)("div",{children:[new Date(c).toLocaleDateString(),j.user&&(a===l||"admin"===j.user.userRole)&&Object(n.jsx)("span",{className:"ml-1",style:{cursor:"pointer"},onClick:function(){return p.apply(this,arguments)},children:Object(n.jsx)(kt.a,{})})]})]}),Object(n.jsx)("div",{className:"border p-2",children:Object(n.jsx)(rt.a,{source:r})})]})},wt=a(253);a(230);var Ct=function(e){var t=Object(o.d)((function(e){return e.userData})).userData,a=Object(o.d)((function(e){return e.item})).item,r=Object(o.d)((function(e){return e.collection.collection})).collection,s=Object(c.useRef)(),i=Object(o.c)(),l=Object(c.useState)(""),u=Object(p.a)(l,2),d=u[0],j=u[1];function b(){return m.apply(this,arguments)}function m(){return(m=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.trim()){e.next=2;break}return e.abrupt("return");case 2:return j(""),e.prev=3,e.next=6,k.a.post("".concat(N,"/api/item/comment"),{comment:d,itemId:a._id,collectionId:r._id},{headers:{"x-auth-token":t.token}});case 6:i(ie(a._id)),s.current.blur(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:t.user&&Object(n.jsxs)("div",{className:"d-flex comment flex-column w-100",children:[Object(n.jsxs)("div",{className:"d-flex align-items-center p-1 border border-primary",children:[Object(n.jsx)(x,{picture:t.user.userPhoto,name:t.user.displayName}),Object(n.jsx)("span",{className:"pl-1",children:t.user.displayName})]}),Object(n.jsxs)("div",{className:"d-flex border p-2",children:[Object(n.jsx)("textarea",{placeholder:be.AddComment.leaveComment[t.user.lang],value:d,onChange:function(e){return j(e.target.value)},maxLength:"200",className:"form-control mr-1",onKeyPress:function(e){"Enter"!==e.code||e.shiftKey||(e.preventDefault(),b())}}),Object(n.jsx)("button",{className:"btn btn-outline-primary btn-comment",disabled:!d.length,ref:s,onClick:b,children:Object(n.jsx)(wt.a,{})})]})]})})};var St=Object(o.b)((function(e){return e.item}),null)((function(e){var t=Object(o.d)((function(e){return e.item})).item,a=Object(o.d)((function(e){return e.userData})).userData,r=Object(o.d)((function(e){return e.collection.collection})).collection,s=Object(j.g)(),i=Object(j.h)(),l=new URLSearchParams(i.search).get("item_id"),u=Object(c.useRef)();Object(c.useEffect)((function(){l&&m()("#item").modal("show"),l||(s.push("/collection?collection_id=".concat(r._id)),m()("#item").modal("hide"))}),[l]);var d=Object(o.c)();return Object(c.useEffect)((function(){var e=setInterval(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id){e.next=2;break}return e.abrupt("return");case 2:d(ie(t._id));case 3:case"end":return e.stop()}}),e)}))),3e3);return function(){return clearInterval(e)}})),Object(n.jsx)("div",{className:"modal fade",ref:u,tabIndex:"-1",id:"item","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:t.title}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){m()("#item").on("hide.bs.modal",(function(e){console.log("hide")}))},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[t.picture&&Object(n.jsx)("img",{src:t.picture,className:"img-fluid rounded",alt:t.title}),Object(n.jsxs)("ul",{className:"list-group mt-1",children:[t.author&&Object(n.jsxs)("li",{className:"list-group-item",children:[be.ModalItem.author[a.user.lang],": ",t.author]}),t.year&&Object(n.jsxs)("li",{className:"list-group-item",children:[be.ModalItem.date[a.user.lang],": ",new Date(t.year).toLocaleDateString()]})]}),t.tags&&t.tags.length>0&&Object(n.jsx)(ft.a,{value:t.tags,readOnly:!0,className:"mt-1"}),t.likes&&Object(n.jsx)("div",{className:"d-flex justify-content-end",children:Object(n.jsx)(Ne,{likes:t.likes,id:t._id})})]}),Object(n.jsx)("div",{className:"d-flex modal-footer justify-content-start",children:r.comments&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ct,{}),t.comments?t.comments.map((function(e,t){return Object(n.jsx)(Nt,Object(O.a)(Object(O.a)({},e),{},{owner:a.user&&a.user.id}),t)})):Object(n.jsx)("p",{children:"Loading..."})]})})]})})})})),It={blacklist:["xxx","yyy","zzz"],maxTags:5,placeholder:"type something",dropdown:{enabled:0}};var Dt=function(e){var t=Object(c.useRef)(),a=Object(o.d)((function(e){return e.userData})).userData,r=Object(o.d)((function(e){return e.item})).item,s=Object(o.d)((function(e){return e.collection.collection})).collection,i=Object(o.c)(),l=Object(c.useState)(""),u=Object(p.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(""),m=Object(p.a)(b,2),h=m[0],x=m[1],f=Object(c.useState)(""),y=Object(p.a)(f,2),w=y[0],C=y[1],S=Object(c.useState)([]),I=Object(p.a)(S,1)[0],D=Object(c.useState)({}),A=Object(p.a)(D,2),E=A[0],M=A[1],L=Object(c.useState)(""),F=Object(p.a)(L,2),_=F[0],R=F[1];function T(){return(T=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(ee()),i({type:X}),i(te(!0)),e.next=6,k.a.post("".concat(N,"/api/item/edit"),{picture:_,title:d,author:h,tags:t.current.value,date:w,id:r._id,collection_id:s._id},{headers:{"x-auth-token":a.token}});case 6:i(re(s._id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(oe(e.t0));case 12:return e.prev=12,i({type:Z}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}Object(c.useEffect)((function(){Object.keys(r).length&&(j(r.title),x(r.author),C(r.year),R(r.picture))}),[r]),Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M({loading:!0}),e.next=4,k.a.get("".concat(N,"/api/item/tags"));case 4:t=e.sent,M((function(e){return Object(O.a)(Object(O.a)({},e),{},{whitelist:t.data.map((function(e){return e.text})),loading:!1})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=Object(O.a)(Object(O.a)({},It),I);return Object(n.jsx)("div",{className:"modal fade",id:"editItem",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsx)("div",{className:"modal-content",style:{position:"relative"},children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:be.EditItemModal.itemSettings[a.user.lang]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:be.EditItemModal.title[a.user.lang]})}),Object(n.jsx)("input",{value:d,onChange:function(e){return j(e.target.value)},type:"text",className:"form-control",placeholder:be.EditItemModal.title[a.user.lang]})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(Ze,{picture:_,setPicture:R})}),s.author&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:be.EditItemModal.author[a.user.lang]})}),Object(n.jsx)("input",{value:h,onChange:function(e){return x(e.target.value)},type:"text",className:"form-control",placeholder:be.EditItemModal.author[a.user.lang],"aria-label":"Author","aria-describedby":"basic-addon1"})]}),s.year&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:be.EditItemModal.date[a.user.lang]})}),Object(n.jsx)("input",{onChange:function(e){return C(e.target.valueAsNumber)},type:"date",className:"form-control",placeholder:be.EditItemModal.date[a.user.lang],"aria-label":"Date",value:w?new Date(w).toISOString().substr(0,10):""})]}),Object(n.jsx)("div",{className:"input-group mb-3",children:Object(n.jsx)(ft.a,Object(O.a)(Object(O.a)({tagifyRef:t,settings:P},E),{},{placeholder:be.EditItemModal.tags.en,value:r.tags}))})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:be.AddItemModal.close[a.user.lang]}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return T.apply(this,arguments)},children:be.EditItemModal.saveItem[a.user.lang]})]})]})})})})},At=a(254),Et=a(255);var Mt=function(){var e=Object(o.d)((function(e){return e.collection})),t=e.sortOptions,a=e.collection,r=Object(c.useState)(t.key),s=Object(p.a)(r,2),i=s[0],l=s[1],u=Object(o.d)((function(e){return e.userData})).userData,d=Object(o.c)();return Object(c.useEffect)((function(){var e;d((e=i.toLowerCase(),{type:G,payload:e}))}),[i,d]),Object(n.jsxs)("div",{className:"d-flex align-items-center mb-3 w-100 px-2 p-sm-0",children:[Object(n.jsx)("span",{className:"".concat(u.user.darkMode&&"text-light"),children:be.Sort.sort[u.user.lang]}),Object(n.jsxs)("select",{className:"form-control ml-2",value:i,id:"inputGroupSelect01",onChange:function(e){return l(e.target.value)},children:[Object(n.jsx)("option",{value:"Title",children:be.Sort.title[u.user.lang]}),Object(n.jsx)("option",{value:"Likes",children:be.Sort.likes[u.user.lang]}),a.collection.author&&Object(n.jsx)("option",{value:"Author",children:be.Sort.author[u.user.lang]}),a.collection.year&&Object(n.jsx)("option",{value:"Date",children:be.Sort.date[u.user.lang]}),a.collection.comments&&Object(n.jsx)("option",{value:"Comments",children:be.Sort.comments[u.user.lang]})]}),Object(n.jsx)("span",{className:"ml-2",onClick:function(){return d({type:B})},style:{cursor:"pointer"},children:t.ascending?Object(n.jsx)(At.a,{size:20}):Object(n.jsx)(Et.a,{size:20})})]})};var Lt=function(e){var t=e.filter,a=e.setFilter,r=Object(o.d)((function(e){return e.collection.collection})).collection,s=Object(c.useRef)(),i=Object(o.d)((function(e){return e.userData})).userData;return Object(n.jsxs)("div",{className:"d-flex align-items-center flex-column mb-3 w-100 px-2 p-sm-0",children:[Object(n.jsx)("button",{className:"btn btn-primary mb-2 ml-auto w-100",type:"button","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Filters"}),Object(n.jsx)("div",{className:"collapse w-100",id:"collapseExample",children:Object(n.jsxs)("div",{className:"card card-body",children:[Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:be.Filter.title[i.user.lang]})}),Object(n.jsx)("input",{value:t.title||"",type:"text",className:"form-control",onChange:function(e){return a(Object(O.a)(Object(O.a)({},t),{},{title:e.target.value}))},placeholder:be.Filter.title[i.user.lang],"aria-describedby":"basic-addon1"})]}),r.author&&Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:be.Filter.author[i.user.lang]})}),Object(n.jsx)("input",{value:t.author||"",onChange:function(e){return a(Object(O.a)(Object(O.a)({},t),{},{author:e.target.value}))},type:"text",className:"form-control",placeholder:be.Filter.author[i.user.lang],"aria-describedby":"basic-addon1"})]}),r.year&&Object(n.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(n.jsx)("input",{value:t.dateFrom&&new Date(t.dateFrom).toISOString().substr(0,10)||"",type:"date",onChange:function(e){return a(Object(O.a)(Object(O.a)({},t),{},{dateFrom:new Date(e.target.value)}))},className:"form-control"}),Object(n.jsx)("span",{className:"mx-2",children:"-"}),Object(n.jsx)("input",{value:t.dateTo&&new Date(t.dateTo).toISOString().substr(0,10)||"",type:"date",onChange:function(e){return a(Object(O.a)(Object(O.a)({},t),{},{dateTo:new Date(e.target.value)}))},className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-check mb-3",children:[Object(n.jsx)("input",{ref:s,onChange:function(e){return a(Object(O.a)(Object(O.a)({},t),{},{picture:e.target.checked}))},className:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"}),Object(n.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:be.Filter.picture[i.user.lang]})]}),Object(n.jsxs)("div",{className:"d-flex custom-control custom-switch justify-content-end",children:[Object(n.jsx)("input",{defaultValue:!1,type:"checkbox",onChange:function(e){return a(Object(O.a)(Object(O.a)({},t),{},{apply:e.target.checked}))},className:"custom-control-input",id:"customSwitch1"}),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitch1",children:be.Filter.apply[i.user.lang]})]}),Object(n.jsx)("button",{className:"btn btn-danger",onClick:function(){var e={};for(var n in t)e[n]="apply"===n?t[n]:void 0;s.current.checked=!1,a(Object(O.a)({},e))},children:be.Filter.reset[i.user.lang]})]})})]})};a(231);var Ft=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=Object(c.useState)({apply:!1}),a=Object(p.a)(t,2),r=a[0],s=a[1],i=Object(o.d)((function(e){return e.userData})).userData,l=Object(o.d)((function(e){return e.collection.collection})),u=l.collection,b=l.items,m=Object(o.d)((function(e){return e.collection})).sortOptions,h=Object(o.d)((function(e){return e.error})),O=h.loading,x=h.error,f=Object(o.c)(),g=Object(j.h)(),v=new URLSearchParams(g.search).get("collection_id"),y=new URLSearchParams(g.search).get("item_id");return Object(c.useEffect)((function(){y&&f(ie(y))}),[y]),Object(c.useEffect)((function(){f(ee()),f(re(v))}),[v]),Object(c.useEffect)((function(){if(!x&&!O){var e=setInterval((function(){f(re(v))}),2e3);return function(){return clearInterval(e)}}}),[v]),Object(n.jsxs)(n.Fragment,{children:[O&&Object(n.jsx)(Fe,{}),u&&!O&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.b,{to:"/profile?id=".concat(u.owner),children:"Back to profile"}),Object(n.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(n.jsx)("h2",{className:"".concat(i.user.darkMode&&"text-light"),children:u.title}),Object(n.jsx)("h3",{className:"badge badge-primary",children:u.topic}),Object(n.jsx)(rt.a,{className:"".concat(i.user.darkMode&&"text-light"),source:u.description})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)(Mt,{}),Object(n.jsx)(Lt,{filter:r,setFilter:s})]}),Object(n.jsxs)("div",{className:"d-flex justify-content-around flex-wrap item-container",children:[b.filter((function(e){if(!r.apply)return!0;if(r.title&&r.title.trim()){var t=new RegExp("".concat(r.title),"gi");if(!e.title.match(t))return!1}if(r.author&&r.author.trim()){var a=new RegExp("".concat(r.author),"gi");if(!e.author.match(a))return!1}if(r.dateFrom&&r.dateTo){var n=new Date(e.year);if(n<r.dateFrom||n>r.dateTo)return!1}return!(r.picture&&!e.picture)})).sort((function(e,t){if(e&&t)switch(m.key){case"likes":if(e.likes.number>t.likes.number)return m.ascending?1:-1;if(e.likes.number===t.likes.number)return 0;if(e.likes.number<t.likes.number)return m.ascending?-1:1;break;case"date":if(e.year>t.year)return m.ascending?1:-1;if(e.year===t.year)return 0;if(e.year<t.year)return m.ascending?-1:1;break;case"comments":if(e.comments.length>t.comments.length)return m.ascending?1:-1;if(e.comments.length===t.comments.length)return 0;if(e.comments.length<t.comments.length)return m.ascending?-1:1;break;default:if(e[m.key]>t[m.key])return m.ascending?1:-1;if(e[m.key]===t[m.key])return 0;if(e[m.key]<t[m.key])return m.ascending?-1:1}})).map((function(e){return Object(n.jsx)(Ie,{itemProps:e,collectionId:v},e._id)})),i.user&&(i.user.id===u.owner||"admin"===i.user.userRole)&&Object(n.jsx)(yt,{comments:u.comments,author:u.author,year:u.year,id:v}),Object(n.jsx)(St,{}),Object(n.jsx)(Dt,{})]})]})]})}));a(232);var _t=Object(o.b)((function(e){return e.search}),null)((function(e){var t=e.items,a=e.searchText,c=Object(o.d)((function(e){return e.error})).loading;return Object(n.jsxs)(n.Fragment,{children:[c&&Object(n.jsx)(Fe,{}),!c&&Object(n.jsx)("div",{className:"d-flex flex-wrap search-items-container",children:t.length?Object(n.jsxs)("div",{className:"d-flex flex-column",children:[Object(n.jsxs)("h4",{children:["Here's what we found for ",a]}),Object(n.jsx)("div",{className:"d-flex flex-wrap",style:{gap:"2rem"},children:t.map((function(e){return Object(n.jsx)(Ie,{itemProps:e},e._id)}))})]}):"Nothing was found for your request :("})]})}));a(91);var Rt=function(){var e=Object(o.d)((function(e){return e.error})),t=e.error,a=e.loading,c=Object(o.c)();return Object(n.jsx)(n.Fragment,{children:!a&&t&&Object(n.jsxs)("div",{className:"alert alert-warning alert-danger fade-in show mt-1",role:"alert",children:[t,Object(n.jsx)("button",{type:"button",className:"close","aria-label":"Close","data-dismiss":"alert",onClick:function(){return c(ee())},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var Tt=function(){var e=Object(o.d)((function(e){return e.error})),t=e.loading,a=e.error,c=e.notify,r=Object(o.d)((function(e){return e.collection})).loadingCollection,s=Object(o.c)();return Object(n.jsx)(n.Fragment,{children:c&&!a&&Object(n.jsxs)("div",{className:"alert alert-primary fade-in",role:"alert",children:[t||r?Object(n.jsx)(tt,{}):Object(n.jsx)("span",{children:"Successfully uploaded"}),Object(n.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return s(ee())},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var Pt=Object(o.b)((function(e){return e.userData}),null)((function(e){var t=e.userData,a=Object(o.c)();return Object(c.useEffect)((function(){a(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token")||sessionStorage.getItem("token")){e.next=4;break}return je(),e.abrupt("return");case 4:return e.prev=4,e.next=7,k.a.post("".concat(N,"/api/user/verifyToken"),null,{headers:{"x-auth-token":a}});case 7:if(!e.sent.data){e.next=13;break}return e.next=11,k.a.get("".concat(N,"/api/user/"),{headers:{"x-auth-token":a}});case 11:n=e.sent,t({type:w,payload:{token:a,user:n.data}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t(oe(e.t0.response&&e.t0.response.data?e.t0.response.data.message||e.t0.response.data:""));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}())}),[a]),Object(c.useEffect)((function(){t.user.darkMode?m()("#root").addClass("dark"):m()("#root").removeClass("dark")}),[t]),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(me,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(Rt,{}),Object(n.jsx)(Tt,{}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",component:_e}),Object(n.jsx)(j.b,{path:"/login",component:We}),Object(n.jsx)(j.b,{path:"/register",component:qe}),Object(n.jsx)(j.b,{path:"/profile:id?",component:lt}),Object(n.jsx)(j.b,{path:"/collection:collection_id?",exact:!0,component:Ft}),Object(n.jsx)(j.b,{path:"/search",exact:!0,component:_t}),Object(n.jsx)(ut,{path:"/admin",component:Ot})]})]}),Object(n.jsx)(pe,{})]})})),Gt={userData:{token:void 0,user:{lang:localStorage.getItem("lang")||"en",darkMode:!1}}},Bt={error:"",notify:!1,loading:!1},Ut={item:{}},Vt={collection:{},sortOptions:{key:"Date",ascending:!0},loadingCollection:!1},zt={tags:[],lastAdded:[],mostLike:[]},Ht={items:JSON.parse(sessionStorage.getItem("search-items"))||{},searchText:sessionStorage.getItem("search-text")||""},Kt={collections:{},loading:!1},Jt=Object(u.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case C:case S:return Object(O.a)(Object(O.a)({},e),{},{userData:Object(O.a)(Object(O.a)({},e.userData),{},{token:t.payload.token,user:t.payload.user})});case z:return Object(O.a)(Object(O.a)({},e),{},{userData:Object(O.a)(Object(O.a)({},e.userData),{},{user:Object(O.a)(Object(O.a)({},e.userData.user),{},{lang:t.payload})})});case $:return Object(O.a)(Object(O.a)({},e),{},{userData:Object(O.a)(Object(O.a)({},e.userData),{},{user:Object(O.a)(Object(O.a)({},e.userData.user),{},{darkMode:t.payload})})});case D:case A:case E:case M:case L:case I:default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(O.a)(Object(O.a)({},e),{},{error:t.payload});case _:return Object(O.a)(Object(O.a)({},e),{},{error:""});case K:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case J:return Object(O.a)(Object(O.a)({},e),{},{loading:!1});case q:return Object(O.a)(Object(O.a)({},e),t.payload);case W:return Object(O.a)(Object(O.a)({},e),{},{notify:t.payload});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case T:return Object(O.a)(Object(O.a)({},e),{},{item:t.payload});default:return e}},collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(O.a)(Object(O.a)({},e),{},{collection:t.payload});case G:return Object(O.a)(Object(O.a)({},e),{},{sortOptions:Object(O.a)(Object(O.a)({},e.sortOptions),{},{key:t.payload})});case B:return Object(O.a)(Object(O.a)({},e),{},{sortOptions:Object(O.a)(Object(O.a)({},e.sortOptions),{},{ascending:!e.sortOptions.ascending})});case X:return Object(O.a)(Object(O.a)({},e),{},{loadingCollection:!0});case Z:return Object(O.a)(Object(O.a)({},e),{},{loadingCollection:!1});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(O.a)(Object(O.a)({},e),{},{tags:t.payload.tags,lastAdded:t.payload.lastAdded,mostLike:t.payload.mostLike});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(O.a)(Object(O.a)({},e),{},{items:t.payload.items,searchText:t.payload.searchText});default:return e}},allCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(O.a)(Object(O.a)({},e),{},{collections:t.payload});case Y:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case Q:return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}}}),Wt=Object(u.e)(Jt,Object(u.d)(Object(u.a)(l.a)));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{store:Wt,children:Object(n.jsx)(Pt,{})})}),document.getElementById("root"))},5:function(e){e.exports=JSON.parse('{"Home":{"recentlyAdded":{"en":"Recently added","ru":"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435"},"mostLike":{"en":"Most like","ru":"\u0422\u043e\u043f \u043b\u0430\u0439\u043a\u043e\u0432"}},"Profile":{"info":{"en":"Info","ru":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},"registerDate":{"en":"Register date","ru":"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"},"role":{"en":"Role","ru":"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"},"collections":{"en":"Collections","ru":"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"blockUser":{"en":"User has been blocked","ru":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"},"adminPanel":{"en":"Admin panel","ru":"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}},"Search":{"notFound":{"en":"No items found","ru":"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"}},"Collections":{"allCollections":{"en":"All collections","ru":"\u0412\u0441\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}},"Admin":{"permission":{"en":"You don\'t have permissions for this page","ru":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"}},"Header":{"collections":{"en":"Collections","ru":"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"home":{"en":"Home","ru":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"},"myCollections":{"en":"My collections","ru":"\u041c\u043e\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"logIn":{"en":"Log in","ru":"\u0412\u043e\u0439\u0442\u0438"},"register":{"en":"Register","ru":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"logOut":{"en":"Log out","ru":"\u0412\u044b\u0439\u0442\u0438"}},"AddItemModal":{"itemSettings":{"en":"Item settings","ru":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"close":{"en":"Close","ru":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"addItem":{"en":"Add item","ru":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442"},"tags":{"en":"Type some tags"}},"Item":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"edit":{"en":"Edit","ru":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}},"ModalItem":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"}},"FileInput":{"dragAndDrop":{"en":"Drag \'n\' drop picture here, or click to select","ru":"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c"}},"AddComment":{"leaveComment":{"en":"Leave a comment...","ru":"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439..."}},"AddCollectionModal":{"collectionSettings":{"en":"Collection settings","ru":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"topic":{"en":"Topic","ru":"\u0422\u0435\u043c\u0430"},"description":{"en":"Description","ru":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},"close":{"en":"Close","ru":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"save":{"en":"Save","ru":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"addCollection":{"en":"Add collection","ru":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e"}},"CollectionCard":{"explore":{"en":"Explore","ru":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}},"Filter":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"picture":{"en":"Picture","ru":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},"apply":{"en":"Apply","ru":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},"reset":{"en":"Reset","ru":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}},"Sort":{"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440\u0443"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0435"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c"},"likes":{"en":"Likes","ru":"\u041b\u0430\u0439\u043a\u0430\u043c"},"sort":{"en":"Sort","ru":"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},"logIn":{"signIn":{"en":"Sign in","ru":"\u0412\u043e\u0439\u0442\u0438"},"emailAdress":{"en":"Email address","ru":"Email \u0430\u0434\u0440\u0435\u0441"},"password":{"en":"Password","ru":"\u041f\u0430\u0440\u043e\u043b\u044c"},"rememberMe":{"en":"Remember me","ru":"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"}},"Register":{"signUp":{"en":"Sign up","ru":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"emailAddress":{"en":"Email address","ru":"Email \u0430\u0434\u0440\u0435\u0441"},"password":{"en":"Password","ru":"\u041f\u0430\u0440\u043e\u043b\u044c"},"passwordConfirm":{"en":"Password confirm","ru":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},"name":{"en":"Name","ru":"\u0418\u043c\u044f"}},"EditItemModal":{"itemSettings":{"en":"Item settings","ru":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"},"comments":{"en":"Comments","ru":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},"author":{"en":"Author","ru":"\u0410\u0432\u0442\u043e\u0440"},"date":{"en":"Date","ru":"\u0414\u0430\u0442\u0430"},"title":{"en":"Title","ru":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},"close":{"en":"Close","ru":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},"saveItem":{"en":"Save","ru":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"tags":{"en":"Type some tags"}}}')},64:function(e,t,a){},77:function(e,t,a){},91:function(e,t,a){}},[[233,1,2]]]);
//# sourceMappingURL=main.11450293.chunk.js.map